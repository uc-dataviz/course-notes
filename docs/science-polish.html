<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Day 3 Making plots pretty and clean | Data Visualization</title>
  <meta name="description" content="Contains notes for the spring 2022 course." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Day 3 Making plots pretty and clean | Data Visualization" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Contains notes for the spring 2022 course." />
  <meta name="github-repo" content="uc-dataviz/course-notes" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Day 3 Making plots pretty and clean | Data Visualization" />
  
  <meta name="twitter:description" content="Contains notes for the spring 2022 course." />
  

<meta name="author" content="Benjamin Soltoff" />


<meta name="date" content="2022-03-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="show-the-numbers.html"/>
<link rel="next" href="geoviz.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.21/datatables.js"></script>
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Syllabus</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#contact-information"><i class="fa fa-check"></i>Contact information</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-description"><i class="fa fa-check"></i>Course description</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#prerequisites"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-schedule"><i class="fa fa-check"></i>Course schedule</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-do-i-need-for-this-course"><i class="fa fa-check"></i>What do I need for this course?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#how-will-i-be-evaluated"><i class="fa fa-check"></i>How will I be evaluated?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#statement-on-disabilities"><i class="fa fa-check"></i>Statement on Disabilities</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro-data-viz.html"><a href="intro-data-viz.html"><i class="fa fa-check"></i><b>1</b> Introduction to data visualization</a>
<ul>
<li class="chapter" data-level="" data-path="intro-data-viz.html"><a href="intro-data-viz.html#learning-objectives"><i class="fa fa-check"></i>Learning objectives</a>
<ul>
<li class="chapter" data-level="1.0.1" data-path="intro-data-viz.html"><a href="intro-data-viz.html#morning"><i class="fa fa-check"></i><b>1.0.1</b> Morning</a></li>
<li class="chapter" data-level="1.0.2" data-path="intro-data-viz.html"><a href="intro-data-viz.html#afternoon"><i class="fa fa-check"></i><b>1.0.2</b> Afternoon</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="intro-data-viz.html"><a href="intro-data-viz.html#assigned-readings"><i class="fa fa-check"></i>Assigned readings</a></li>
<li class="chapter" data-level="1.1" data-path="intro-data-viz.html"><a href="intro-data-viz.html#why-visualize-data"><i class="fa fa-check"></i><b>1.1</b> Why visualize data?</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="intro-data-viz.html"><a href="intro-data-viz.html#anscombes-quartet"><i class="fa fa-check"></i><b>1.1.1</b> Anscombe’s quartet</a></li>
<li class="chapter" data-level="1.1.2" data-path="intro-data-viz.html"><a href="intro-data-viz.html#datasaurus-dozen"><i class="fa fa-check"></i><b>1.1.2</b> Datasaurus dozen</a></li>
<li class="chapter" data-level="1.1.3" data-path="intro-data-viz.html"><a href="intro-data-viz.html#outliers"><i class="fa fa-check"></i><b>1.1.3</b> Outliers</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="intro-data-viz.html"><a href="intro-data-viz.html#what-makes-visualizations-bad"><i class="fa fa-check"></i><b>1.2</b> What makes visualizations bad</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="intro-data-viz.html"><a href="intro-data-viz.html#lies"><i class="fa fa-check"></i><b>1.2.1</b> Lies</a></li>
<li class="chapter" data-level="1.2.2" data-path="intro-data-viz.html"><a href="intro-data-viz.html#dual-axes"><i class="fa fa-check"></i><b>1.2.2</b> Dual axes</a></li>
<li class="chapter" data-level="1.2.3" data-path="intro-data-viz.html"><a href="intro-data-viz.html#lacking-functionality"><i class="fa fa-check"></i><b>1.2.3</b> Lacking functionality</a></li>
<li class="chapter" data-level="1.2.4" data-path="intro-data-viz.html"><a href="intro-data-viz.html#junky"><i class="fa fa-check"></i><b>1.2.4</b> Junky</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="intro-data-viz.html"><a href="intro-data-viz.html#purpose-of-visualizations"><i class="fa fa-check"></i><b>1.3</b> Purpose of visualizations</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="intro-data-viz.html"><a href="intro-data-viz.html#statistical-graphics"><i class="fa fa-check"></i><b>1.3.1</b> Statistical graphics</a></li>
<li class="chapter" data-level="1.3.2" data-path="intro-data-viz.html"><a href="intro-data-viz.html#information-dashboards"><i class="fa fa-check"></i><b>1.3.2</b> Information dashboards</a></li>
<li class="chapter" data-level="1.3.3" data-path="intro-data-viz.html"><a href="intro-data-viz.html#infographics"><i class="fa fa-check"></i><b>1.3.3</b> Infographics</a></li>
<li class="chapter" data-level="1.3.4" data-path="intro-data-viz.html"><a href="intro-data-viz.html#informative-art"><i class="fa fa-check"></i><b>1.3.4</b> Informative art</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="intro-data-viz.html"><a href="intro-data-viz.html#what-makes-a-good-visualization"><i class="fa fa-check"></i><b>1.4</b> What makes a good visualization</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="intro-data-viz.html"><a href="intro-data-viz.html#dr.-john-snow-and-cholera-outbreak-in-london"><i class="fa fa-check"></i><b>1.4.1</b> Dr. John Snow and cholera outbreak in London</a></li>
<li class="chapter" data-level="1.4.2" data-path="intro-data-viz.html"><a href="intro-data-viz.html#minards-map-of-napoleons-march-on-russia"><i class="fa fa-check"></i><b>1.4.2</b> Minard’s map of Napoleon’s march on Russia</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="intro-data-viz.html"><a href="intro-data-viz.html#perception-and-data-visualization"><i class="fa fa-check"></i><b>1.5</b> Perception and data visualization</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="intro-data-viz.html"><a href="intro-data-viz.html#visual-tasks-and-decoding-graphs"><i class="fa fa-check"></i><b>1.5.1</b> Visual tasks and decoding graphs</a></li>
<li class="chapter" data-level="1.5.2" data-path="intro-data-viz.html"><a href="intro-data-viz.html#channels-and-decoding-information"><i class="fa fa-check"></i><b>1.5.2</b> Channels and decoding information</a></li>
<li class="chapter" data-level="1.5.3" data-path="intro-data-viz.html"><a href="intro-data-viz.html#example-of-decoding-information"><i class="fa fa-check"></i><b>1.5.3</b> Example of decoding information</a></li>
<li class="chapter" data-level="1.5.4" data-path="intro-data-viz.html"><a href="intro-data-viz.html#choropleths"><i class="fa fa-check"></i><b>1.5.4</b> Choropleths</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="intro-data-viz.html"><a href="intro-data-viz.html#identifying-appropriate-graphical-forms"><i class="fa fa-check"></i><b>1.6</b> Identifying appropriate graphical forms</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="intro-data-viz.html"><a href="intro-data-viz.html#cairos-truthful-art-suggested-approach"><i class="fa fa-check"></i><b>1.6.1</b> Cairo’s <em>Truthful Art</em> suggested approach</a></li>
<li class="chapter" data-level="1.6.2" data-path="intro-data-viz.html"><a href="intro-data-viz.html#what-is-the-story"><i class="fa fa-check"></i><b>1.6.2</b> What is the story?</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="intro-data-viz.html"><a href="intro-data-viz.html#grammar-of-graphics"><i class="fa fa-check"></i><b>1.7</b> Grammar of graphics</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="intro-data-viz.html"><a href="intro-data-viz.html#components-of-the-layered-grammar-of-graphics"><i class="fa fa-check"></i><b>1.7.1</b> Components of the layered grammar of graphics</a></li>
<li class="chapter" data-level="1.7.2" data-path="intro-data-viz.html"><a href="intro-data-viz.html#layer"><i class="fa fa-check"></i><b>1.7.2</b> Layer</a></li>
<li class="chapter" data-level="1.7.3" data-path="intro-data-viz.html"><a href="intro-data-viz.html#data-and-mapping"><i class="fa fa-check"></i><b>1.7.3</b> Data and mapping</a></li>
<li class="chapter" data-level="1.7.4" data-path="intro-data-viz.html"><a href="intro-data-viz.html#statistical-transformation"><i class="fa fa-check"></i><b>1.7.4</b> Statistical transformation</a></li>
<li class="chapter" data-level="1.7.5" data-path="intro-data-viz.html"><a href="intro-data-viz.html#geometric-objects"><i class="fa fa-check"></i><b>1.7.5</b> Geometric objects</a></li>
<li class="chapter" data-level="1.7.6" data-path="intro-data-viz.html"><a href="intro-data-viz.html#position-adjustment"><i class="fa fa-check"></i><b>1.7.6</b> Position adjustment</a></li>
<li class="chapter" data-level="1.7.7" data-path="intro-data-viz.html"><a href="intro-data-viz.html#scale"><i class="fa fa-check"></i><b>1.7.7</b> Scale</a></li>
<li class="chapter" data-level="1.7.8" data-path="intro-data-viz.html"><a href="intro-data-viz.html#coordinate-system"><i class="fa fa-check"></i><b>1.7.8</b> Coordinate system</a></li>
<li class="chapter" data-level="1.7.9" data-path="intro-data-viz.html"><a href="intro-data-viz.html#faceting"><i class="fa fa-check"></i><b>1.7.9</b> Faceting</a></li>
<li class="chapter" data-level="1.7.10" data-path="intro-data-viz.html"><a href="intro-data-viz.html#defaults"><i class="fa fa-check"></i><b>1.7.10</b> Defaults</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="intro-data-viz.html"><a href="intro-data-viz.html#building-minards-map-in-r"><i class="fa fa-check"></i><b>1.8</b> Building Minard’s map in R</a>
<ul>
<li class="chapter" data-level="1.8.1" data-path="intro-data-viz.html"><a href="intro-data-viz.html#exercise-define-the-grammar-of-graphics-for-this-graph"><i class="fa fa-check"></i><b>1.8.1</b> Exercise: Define the grammar of graphics for this graph</a></li>
<li class="chapter" data-level="1.8.2" data-path="intro-data-viz.html"><a href="intro-data-viz.html#write-the-r-code"><i class="fa fa-check"></i><b>1.8.2</b> Write the R code</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="intro-data-viz.html"><a href="intro-data-viz.html#session-info"><i class="fa fa-check"></i>Session info</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="show-the-numbers.html"><a href="show-the-numbers.html"><i class="fa fa-check"></i><b>2</b> Showing the right numbers</a>
<ul>
<li class="chapter" data-level="" data-path="show-the-numbers.html"><a href="show-the-numbers.html#learning-objectives-1"><i class="fa fa-check"></i>Learning objectives</a>
<ul>
<li class="chapter" data-level="2.0.1" data-path="show-the-numbers.html"><a href="show-the-numbers.html#morning-1"><i class="fa fa-check"></i><b>2.0.1</b> Morning</a></li>
<li class="chapter" data-level="2.0.2" data-path="show-the-numbers.html"><a href="show-the-numbers.html#afternoon-1"><i class="fa fa-check"></i><b>2.0.2</b> Afternoon</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="show-the-numbers.html"><a href="show-the-numbers.html#assigned-readings-1"><i class="fa fa-check"></i>Assigned readings</a></li>
<li class="chapter" data-level="2.1" data-path="show-the-numbers.html"><a href="show-the-numbers.html#grammar-of-graphics-review"><i class="fa fa-check"></i><b>2.1</b> Grammar of graphics (review)</a></li>
<li class="chapter" data-level="2.2" data-path="show-the-numbers.html"><a href="show-the-numbers.html#grouped-data-and-the-group-aesthetic"><i class="fa fa-check"></i><b>2.2</b> Grouped data and the <code>group</code> aesthetic</a></li>
<li class="chapter" data-level="2.3" data-path="show-the-numbers.html"><a href="show-the-numbers.html#geoms-can-transform-data"><i class="fa fa-check"></i><b>2.3</b> Geoms can transform data</a></li>
<li class="chapter" data-level="2.4" data-path="show-the-numbers.html"><a href="show-the-numbers.html#geom_-functions-call-their-default-stat_-functions-behind-the-scenes"><i class="fa fa-check"></i><b>2.4</b> <code>geom_*()</code> functions call their default <code>stat_*()</code> functions behind the scenes</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="show-the-numbers.html"><a href="show-the-numbers.html#color-in-a-bar-chart"><i class="fa fa-check"></i><b>2.4.1</b> Color in a bar chart</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="show-the-numbers.html"><a href="show-the-numbers.html#histograms-and-kernel-densities"><i class="fa fa-check"></i><b>2.5</b> Histograms and kernel densities</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="show-the-numbers.html"><a href="show-the-numbers.html#subsetting-data-on-the-fly"><i class="fa fa-check"></i><b>2.5.1</b> Subsetting data on the fly</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="show-the-numbers.html"><a href="show-the-numbers.html#avoiding-transformations-when-necessary"><i class="fa fa-check"></i><b>2.6</b> Avoiding transformations when necessary</a></li>
<li class="chapter" data-level="2.7" data-path="show-the-numbers.html"><a href="show-the-numbers.html#cross-tabulation-the-awkward-way"><i class="fa fa-check"></i><b>2.7</b> Cross-tabulation the awkward way</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="show-the-numbers.html"><a href="show-the-numbers.html#calculate-manually"><i class="fa fa-check"></i><b>2.7.1</b> Calculate manually</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="show-the-numbers.html"><a href="show-the-numbers.html#continuous-variables-by-group-or-category"><i class="fa fa-check"></i><b>2.8</b> Continuous variables by group or category</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="show-the-numbers.html"><a href="show-the-numbers.html#boxplots"><i class="fa fa-check"></i><b>2.8.1</b> Boxplots</a></li>
<li class="chapter" data-level="2.8.2" data-path="show-the-numbers.html"><a href="show-the-numbers.html#coord_flip"><i class="fa fa-check"></i><b>2.8.2</b> <code>coord_flip()</code></a></li>
<li class="chapter" data-level="2.8.3" data-path="show-the-numbers.html"><a href="show-the-numbers.html#reorder"><i class="fa fa-check"></i><b>2.8.3</b> <code>reorder()</code></a></li>
<li class="chapter" data-level="2.8.4" data-path="show-the-numbers.html"><a href="show-the-numbers.html#strip-chart"><i class="fa fa-check"></i><b>2.8.4</b> Strip chart</a></li>
<li class="chapter" data-level="2.8.5" data-path="show-the-numbers.html"><a href="show-the-numbers.html#cleveland-dotplot"><i class="fa fa-check"></i><b>2.8.5</b> Cleveland dotplot</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="show-the-numbers.html"><a href="show-the-numbers.html#plot-text-directly"><i class="fa fa-check"></i><b>2.9</b> Plot text directly</a>
<ul>
<li class="chapter" data-level="2.9.1" data-path="show-the-numbers.html"><a href="show-the-numbers.html#geom_text"><i class="fa fa-check"></i><b>2.9.1</b> <code>geom_text()</code></a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="show-the-numbers.html"><a href="show-the-numbers.html#ggrepelgeom_text_repel"><i class="fa fa-check"></i><b>2.10</b> <code>ggrepel::geom_text_repel()</code></a>
<ul>
<li class="chapter" data-level="2.10.1" data-path="show-the-numbers.html"><a href="show-the-numbers.html#label-outliers-only"><i class="fa fa-check"></i><b>2.10.1</b> Label outliers only</a></li>
</ul></li>
<li class="chapter" data-level="2.11" data-path="show-the-numbers.html"><a href="show-the-numbers.html#scales-guides-and-themes"><i class="fa fa-check"></i><b>2.11</b> Scales, guides, and themes</a>
<ul>
<li class="chapter" data-level="2.11.1" data-path="show-the-numbers.html"><a href="show-the-numbers.html#labels-breaks-and-limits"><i class="fa fa-check"></i><b>2.11.1</b> Labels, breaks, and limits</a></li>
</ul></li>
<li class="chapter" data-level="2.12" data-path="show-the-numbers.html"><a href="show-the-numbers.html#mapping-data-to-graphics"><i class="fa fa-check"></i><b>2.12</b> Mapping data to graphics</a>
<ul>
<li class="chapter" data-level="2.12.1" data-path="show-the-numbers.html"><a href="show-the-numbers.html#load-and-clean-data"><i class="fa fa-check"></i><b>2.12.1</b> Load and clean data</a></li>
<li class="chapter" data-level="2.12.2" data-path="show-the-numbers.html"><a href="show-the-numbers.html#histograms"><i class="fa fa-check"></i><b>2.12.2</b> Histograms</a></li>
<li class="chapter" data-level="2.12.3" data-path="show-the-numbers.html"><a href="show-the-numbers.html#points"><i class="fa fa-check"></i><b>2.12.3</b> Points</a></li>
<li class="chapter" data-level="2.12.4" data-path="show-the-numbers.html"><a href="show-the-numbers.html#boxplots-1"><i class="fa fa-check"></i><b>2.12.4</b> Boxplots</a></li>
<li class="chapter" data-level="2.12.5" data-path="show-the-numbers.html"><a href="show-the-numbers.html#summaries"><i class="fa fa-check"></i><b>2.12.5</b> Summaries</a></li>
</ul></li>
<li class="chapter" data-level="2.13" data-path="show-the-numbers.html"><a href="show-the-numbers.html#amounts-and-proportions"><i class="fa fa-check"></i><b>2.13</b> Amounts and proportions</a>
<ul>
<li class="chapter" data-level="2.13.1" data-path="show-the-numbers.html"><a href="show-the-numbers.html#load-data"><i class="fa fa-check"></i><b>2.13.1</b> Load data</a></li>
<li class="chapter" data-level="2.13.2" data-path="show-the-numbers.html"><a href="show-the-numbers.html#wrangle-data"><i class="fa fa-check"></i><b>2.13.2</b> Wrangle data</a></li>
<li class="chapter" data-level="2.13.3" data-path="show-the-numbers.html"><a href="show-the-numbers.html#bar-plot"><i class="fa fa-check"></i><b>2.13.3</b> Bar plot</a></li>
<li class="chapter" data-level="2.13.4" data-path="show-the-numbers.html"><a href="show-the-numbers.html#lollipop-chart"><i class="fa fa-check"></i><b>2.13.4</b> Lollipop chart</a></li>
<li class="chapter" data-level="2.13.5" data-path="show-the-numbers.html"><a href="show-the-numbers.html#strip-plot"><i class="fa fa-check"></i><b>2.13.5</b> Strip plot</a></li>
<li class="chapter" data-level="2.13.6" data-path="show-the-numbers.html"><a href="show-the-numbers.html#beeswarm-plot"><i class="fa fa-check"></i><b>2.13.6</b> Beeswarm plot</a></li>
<li class="chapter" data-level="2.13.7" data-path="show-the-numbers.html"><a href="show-the-numbers.html#heatmap"><i class="fa fa-check"></i><b>2.13.7</b> Heatmap</a></li>
</ul></li>
<li class="chapter" data-level="2.14" data-path="show-the-numbers.html"><a href="show-the-numbers.html#comparisons"><i class="fa fa-check"></i><b>2.14</b> Comparisons</a>
<ul>
<li class="chapter" data-level="2.14.1" data-path="show-the-numbers.html"><a href="show-the-numbers.html#load-and-clean-data-1"><i class="fa fa-check"></i><b>2.14.1</b> Load and clean data</a></li>
<li class="chapter" data-level="2.14.2" data-path="show-the-numbers.html"><a href="show-the-numbers.html#small-multiples"><i class="fa fa-check"></i><b>2.14.2</b> Small multiples</a></li>
<li class="chapter" data-level="2.14.3" data-path="show-the-numbers.html"><a href="show-the-numbers.html#sparklines"><i class="fa fa-check"></i><b>2.14.3</b> Sparklines</a></li>
<li class="chapter" data-level="2.14.4" data-path="show-the-numbers.html"><a href="show-the-numbers.html#slopegraphs"><i class="fa fa-check"></i><b>2.14.4</b> Slopegraphs</a></li>
<li class="chapter" data-level="2.14.5" data-path="show-the-numbers.html"><a href="show-the-numbers.html#bump-charts"><i class="fa fa-check"></i><b>2.14.5</b> Bump charts</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="show-the-numbers.html"><a href="show-the-numbers.html#acknowledgments"><i class="fa fa-check"></i>Acknowledgments</a></li>
<li class="chapter" data-level="" data-path="show-the-numbers.html"><a href="show-the-numbers.html#session-info-1"><i class="fa fa-check"></i>Session info</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="science-polish.html"><a href="science-polish.html"><i class="fa fa-check"></i><b>3</b> Making plots pretty and clean</a>
<ul>
<li class="chapter" data-level="" data-path="science-polish.html"><a href="science-polish.html#learning-objectives-2"><i class="fa fa-check"></i>Learning objectives</a>
<ul>
<li class="chapter" data-level="3.0.1" data-path="science-polish.html"><a href="science-polish.html#morning-2"><i class="fa fa-check"></i><b>3.0.1</b> Morning</a></li>
<li class="chapter" data-level="3.0.2" data-path="science-polish.html"><a href="science-polish.html#afternoon-2"><i class="fa fa-check"></i><b>3.0.2</b> Afternoon</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="science-polish.html"><a href="science-polish.html#assigned-readings-2"><i class="fa fa-check"></i>Assigned readings</a></li>
<li class="chapter" data-level="3.1" data-path="science-polish.html"><a href="science-polish.html#tuftes-world"><i class="fa fa-check"></i><b>3.1</b> Tufte’s world</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="science-polish.html"><a href="science-polish.html#what-is-integral"><i class="fa fa-check"></i><b>3.1.1</b> What is integral?</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="science-polish.html"><a href="science-polish.html#chart-junk"><i class="fa fa-check"></i><b>3.2</b> Chart junk</a></li>
<li class="chapter" data-level="3.3" data-path="science-polish.html"><a href="science-polish.html#compare-tufte-minimal-graphs-to-traditional-graphs-using-ggplot2"><i class="fa fa-check"></i><b>3.3</b> Compare Tufte minimal graphs to traditional graphs using <code>ggplot2</code></a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="science-polish.html"><a href="science-polish.html#minimal-line-plot"><i class="fa fa-check"></i><b>3.3.1</b> Minimal line plot</a></li>
<li class="chapter" data-level="3.3.2" data-path="science-polish.html"><a href="science-polish.html#minimal-boxplot"><i class="fa fa-check"></i><b>3.3.2</b> Minimal boxplot</a></li>
<li class="chapter" data-level="3.3.3" data-path="science-polish.html"><a href="science-polish.html#minimal-barchart"><i class="fa fa-check"></i><b>3.3.3</b> Minimal barchart</a></li>
<li class="chapter" data-level="3.3.4" data-path="science-polish.html"><a href="science-polish.html#range-frame-scatterplot"><i class="fa fa-check"></i><b>3.3.4</b> Range-frame scatterplot</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="science-polish.html"><a href="science-polish.html#reconsidering-tufte"><i class="fa fa-check"></i><b>3.4</b> Reconsidering Tufte</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="science-polish.html"><a href="science-polish.html#when-is-redundancy-better"><i class="fa fa-check"></i><b>3.4.1</b> When is redundancy better?</a></li>
<li class="chapter" data-level="3.4.2" data-path="science-polish.html"><a href="science-polish.html#does-minimalism-really-help-here"><i class="fa fa-check"></i><b>3.4.2</b> Does minimalism really help here?</a></li>
<li class="chapter" data-level="3.4.3" data-path="science-polish.html"><a href="science-polish.html#experimental-tests-of-tuftes-claims"><i class="fa fa-check"></i><b>3.4.3</b> Experimental tests of Tufte’s claims</a></li>
<li class="chapter" data-level="3.4.4" data-path="science-polish.html"><a href="science-polish.html#discussing-the-results"><i class="fa fa-check"></i><b>3.4.4</b> Discussing the results</a></li>
<li class="chapter" data-level="3.4.5" data-path="science-polish.html"><a href="science-polish.html#rethinking-tuftes-definition-of-visual-excellence"><i class="fa fa-check"></i><b>3.4.5</b> Rethinking Tufte’s definition of visual excellence</a></li>
<li class="chapter" data-level="3.4.6" data-path="science-polish.html"><a href="science-polish.html#testing-this-theory"><i class="fa fa-check"></i><b>3.4.6</b> Testing this theory</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="science-polish.html"><a href="science-polish.html#visualizing-uncertainty"><i class="fa fa-check"></i><b>3.5</b> Visualizing uncertainty</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="science-polish.html"><a href="science-polish.html#load-and-clean-data-2"><i class="fa fa-check"></i><b>3.5.1</b> Load and clean data</a></li>
<li class="chapter" data-level="3.5.2" data-path="science-polish.html"><a href="science-polish.html#histograms-1"><i class="fa fa-check"></i><b>3.5.2</b> Histograms</a></li>
<li class="chapter" data-level="3.5.3" data-path="science-polish.html"><a href="science-polish.html#density-plots"><i class="fa fa-check"></i><b>3.5.3</b> Density plots</a></li>
<li class="chapter" data-level="3.5.4" data-path="science-polish.html"><a href="science-polish.html#box-violin-and-rain-cloud-plots"><i class="fa fa-check"></i><b>3.5.4</b> Box, violin, and rain cloud plots</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="science-polish.html"><a href="science-polish.html#building-a-theme"><i class="fa fa-check"></i><b>3.6</b> Building a <code>theme()</code></a></li>
<li class="chapter" data-level="3.7" data-path="science-polish.html"><a href="science-polish.html#annotations"><i class="fa fa-check"></i><b>3.7</b> Annotations</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="science-polish.html"><a href="science-polish.html#load-data-1"><i class="fa fa-check"></i><b>3.7.1</b> Load data</a></li>
<li class="chapter" data-level="3.7.2" data-path="science-polish.html"><a href="science-polish.html#clean-and-reshape-data"><i class="fa fa-check"></i><b>3.7.2</b> Clean and reshape data</a></li>
<li class="chapter" data-level="3.7.3" data-path="science-polish.html"><a href="science-polish.html#plot-the-data-and-annotate"><i class="fa fa-check"></i><b>3.7.3</b> Plot the data and annotate</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="science-polish.html"><a href="science-polish.html#acknowledgments-1"><i class="fa fa-check"></i>Acknowledgments</a></li>
<li class="chapter" data-level="" data-path="science-polish.html"><a href="science-polish.html#session-info-2"><i class="fa fa-check"></i>Session info</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="geoviz.html"><a href="geoviz.html"><i class="fa fa-check"></i><b>4</b> Geospatial visualizations</a>
<ul>
<li class="chapter" data-level="" data-path="geoviz.html"><a href="geoviz.html#learning-objectives-3"><i class="fa fa-check"></i>Learning objectives</a>
<ul>
<li class="chapter" data-level="4.0.1" data-path="geoviz.html"><a href="geoviz.html#morning-3"><i class="fa fa-check"></i><b>4.0.1</b> Morning</a></li>
<li class="chapter" data-level="4.0.2" data-path="geoviz.html"><a href="geoviz.html#afternoon-3"><i class="fa fa-check"></i><b>4.0.2</b> Afternoon</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="geoviz.html"><a href="geoviz.html#assigned-readings-3"><i class="fa fa-check"></i>Assigned readings</a></li>
<li class="chapter" data-level="4.1" data-path="geoviz.html"><a href="geoviz.html#introduction-to-geospatial-visualization"><i class="fa fa-check"></i><b>4.1</b> Introduction to geospatial visualization</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="geoviz.html"><a href="geoviz.html#john-snow-and-the-broad-street-water-pump"><i class="fa fa-check"></i><b>4.1.1</b> John Snow and the Broad Street water pump</a></li>
<li class="chapter" data-level="4.1.2" data-path="geoviz.html"><a href="geoviz.html#carte-figurative-des-pertes-successives-en-hommes-de-larmée-française-dans-la-campagne-de-russie-1812-1813"><i class="fa fa-check"></i><b>4.1.2</b> <em>Carte figurative des pertes successives en hommes de l’Armée Française dans la campagne de Russie 1812-1813)</em></a></li>
<li class="chapter" data-level="4.1.3" data-path="geoviz.html"><a href="geoviz.html#designing-modern-maps"><i class="fa fa-check"></i><b>4.1.3</b> Designing modern maps</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="geoviz.html"><a href="geoviz.html#drawing-raster-maps-with-ggmap"><i class="fa fa-check"></i><b>4.2</b> Drawing raster maps with <code>ggmap</code></a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="geoviz.html"><a href="geoviz.html#obtain-map-images"><i class="fa fa-check"></i><b>4.2.1</b> Obtain map images</a></li>
<li class="chapter" data-level="4.2.2" data-path="geoviz.html"><a href="geoviz.html#specifying-map-regions"><i class="fa fa-check"></i><b>4.2.2</b> Specifying map regions</a></li>
<li class="chapter" data-level="4.2.3" data-path="geoviz.html"><a href="geoviz.html#types-of-map-tiles"><i class="fa fa-check"></i><b>4.2.3</b> Types of map tiles</a></li>
<li class="chapter" data-level="4.2.4" data-path="geoviz.html"><a href="geoviz.html#import-crime-data"><i class="fa fa-check"></i><b>4.2.4</b> Import crime data</a></li>
<li class="chapter" data-level="4.2.5" data-path="geoviz.html"><a href="geoviz.html#plot-high-level-map-of-crime"><i class="fa fa-check"></i><b>4.2.5</b> Plot high-level map of crime</a></li>
<li class="chapter" data-level="4.2.6" data-path="geoviz.html"><a href="geoviz.html#using-geom_point"><i class="fa fa-check"></i><b>4.2.6</b> Using <code>geom_point()</code></a></li>
<li class="chapter" data-level="4.2.7" data-path="geoviz.html"><a href="geoviz.html#using-stat_density_2d"><i class="fa fa-check"></i><b>4.2.7</b> Using <code>stat_density_2d()</code></a></li>
<li class="chapter" data-level="4.2.8" data-path="geoviz.html"><a href="geoviz.html#looking-for-variation"><i class="fa fa-check"></i><b>4.2.8</b> Looking for variation</a></li>
<li class="chapter" data-level="4.2.9" data-path="geoviz.html"><a href="geoviz.html#locations-of-murders"><i class="fa fa-check"></i><b>4.2.9</b> Locations of murders</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="geoviz.html"><a href="geoviz.html#exercise-chicago-311-data"><i class="fa fa-check"></i><b>4.3</b> Exercise: Chicago 311 data</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="geoviz.html"><a href="geoviz.html#visualize-the-311-data"><i class="fa fa-check"></i><b>4.3.1</b> Visualize the 311 data</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="geoviz.html"><a href="geoviz.html#importing-spatial-data-files-using-sf"><i class="fa fa-check"></i><b>4.4</b> Importing spatial data files using <code>sf</code></a></li>
<li class="chapter" data-level="4.5" data-path="geoviz.html"><a href="geoviz.html#file-formats"><i class="fa fa-check"></i><b>4.5</b> File formats</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="geoviz.html"><a href="geoviz.html#shapefile"><i class="fa fa-check"></i><b>4.5.1</b> Shapefile</a></li>
<li class="chapter" data-level="4.5.2" data-path="geoviz.html"><a href="geoviz.html#geojson"><i class="fa fa-check"></i><b>4.5.2</b> GeoJSON</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="geoviz.html"><a href="geoviz.html#simple-features"><i class="fa fa-check"></i><b>4.6</b> Simple features</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="geoviz.html"><a href="geoviz.html#what-is-a-feature"><i class="fa fa-check"></i><b>4.6.1</b> What is a feature?</a></li>
<li class="chapter" data-level="4.6.2" data-path="geoviz.html"><a href="geoviz.html#dimensions"><i class="fa fa-check"></i><b>4.6.2</b> Dimensions</a></li>
<li class="chapter" data-level="4.6.3" data-path="geoviz.html"><a href="geoviz.html#simple-feature-geometry-types"><i class="fa fa-check"></i><b>4.6.3</b> Simple feature geometry types</a></li>
<li class="chapter" data-level="4.6.4" data-path="geoviz.html"><a href="geoviz.html#coordinate-reference-system"><i class="fa fa-check"></i><b>4.6.4</b> Coordinate reference system</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="geoviz.html"><a href="geoviz.html#simple-features-in-r"><i class="fa fa-check"></i><b>4.7</b> Simple features in R</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="geoviz.html"><a href="geoviz.html#importing-spatial-data-using-sf"><i class="fa fa-check"></i><b>4.7.1</b> Importing spatial data using <code>sf</code></a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="geoviz.html"><a href="geoviz.html#drawing-vector-maps-with-sf-and-ggplot2"><i class="fa fa-check"></i><b>4.8</b> Drawing vector maps with <code>sf</code> and <code>ggplot2</code></a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="geoviz.html"><a href="geoviz.html#import-usa-state-boundaries"><i class="fa fa-check"></i><b>4.8.1</b> Import USA state boundaries</a></li>
<li class="chapter" data-level="4.8.2" data-path="geoviz.html"><a href="geoviz.html#draw-the-boundaries"><i class="fa fa-check"></i><b>4.8.2</b> Draw the boundaries</a></li>
<li class="chapter" data-level="4.8.3" data-path="geoviz.html"><a href="geoviz.html#add-data-to-the-map"><i class="fa fa-check"></i><b>4.8.3</b> Add data to the map</a></li>
<li class="chapter" data-level="4.8.4" data-path="geoviz.html"><a href="geoviz.html#changing-map-projection"><i class="fa fa-check"></i><b>4.8.4</b> Changing map projection</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="geoviz.html"><a href="geoviz.html#practice-drawing-vector-maps"><i class="fa fa-check"></i><b>4.9</b> Practice drawing vector maps</a>
<ul>
<li class="chapter" data-level="4.9.1" data-path="geoviz.html"><a href="geoviz.html#american-community-survey"><i class="fa fa-check"></i><b>4.9.1</b> American Community Survey</a></li>
<li class="chapter" data-level="4.9.2" data-path="geoviz.html"><a href="geoviz.html#exercise-visualize-income-data"><i class="fa fa-check"></i><b>4.9.2</b> Exercise: Visualize income data</a></li>
<li class="chapter" data-level="4.9.3" data-path="geoviz.html"><a href="geoviz.html#exercise-customize-your-maps"><i class="fa fa-check"></i><b>4.9.3</b> Exercise: Customize your maps</a></li>
</ul></li>
<li class="chapter" data-level="4.10" data-path="geoviz.html"><a href="geoviz.html#selecting-optimal-color-palettes"><i class="fa fa-check"></i><b>4.10</b> Selecting optimal color palettes</a>
<ul>
<li class="chapter" data-level="4.10.1" data-path="geoviz.html"><a href="geoviz.html#color-brewer"><i class="fa fa-check"></i><b>4.10.1</b> Color Brewer</a></li>
<li class="chapter" data-level="4.10.2" data-path="geoviz.html"><a href="geoviz.html#viridis"><i class="fa fa-check"></i><b>4.10.2</b> Viridis</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="geoviz.html"><a href="geoviz.html#session-info-3"><i class="fa fa-check"></i>Session info</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>5</b> Shiny applications</a>
<ul>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#learning-objectives-4"><i class="fa fa-check"></i>Learning objectives</a>
<ul>
<li class="chapter" data-level="5.0.1" data-path="shiny.html"><a href="shiny.html#morning-4"><i class="fa fa-check"></i><b>5.0.1</b> Morning</a></li>
<li class="chapter" data-level="5.0.2" data-path="shiny.html"><a href="shiny.html#afternoon-4"><i class="fa fa-check"></i><b>5.0.2</b> Afternoon</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#assigned-readings-4"><i class="fa fa-check"></i>Assigned readings</a></li>
<li class="chapter" data-level="5.1" data-path="shiny.html"><a href="shiny.html#what-is-shiny"><i class="fa fa-check"></i><b>5.1</b> What is Shiny?</a></li>
<li class="chapter" data-level="5.2" data-path="shiny.html"><a href="shiny.html#before-we-begin"><i class="fa fa-check"></i><b>5.2</b> Before we begin</a></li>
<li class="chapter" data-level="5.3" data-path="shiny.html"><a href="shiny.html#shiny-app-basics"><i class="fa fa-check"></i><b>5.3</b> Shiny app basics</a></li>
<li class="chapter" data-level="5.4" data-path="shiny.html"><a href="shiny.html#create-an-empty-shiny-app"><i class="fa fa-check"></i><b>5.4</b> Create an empty Shiny app</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="shiny.html"><a href="shiny.html#alternate-way-to-create-a-shiny-app-separate-ui-and-server-files"><i class="fa fa-check"></i><b>5.4.1</b> Alternate way to create a Shiny app: separate UI and server files</a></li>
<li class="chapter" data-level="5.4.2" data-path="shiny.html"><a href="shiny.html#let-rstudio-fill-out-a-shiny-app-template-for-you"><i class="fa fa-check"></i><b>5.4.2</b> Let RStudio fill out a Shiny app template for you</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="shiny.html"><a href="shiny.html#load-the-dataset"><i class="fa fa-check"></i><b>5.5</b> Load the dataset</a></li>
<li class="chapter" data-level="5.6" data-path="shiny.html"><a href="shiny.html#build-the-basic-ui"><i class="fa fa-check"></i><b>5.6</b> Build the basic UI</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="shiny.html"><a href="shiny.html#add-plain-text-to-the-ui"><i class="fa fa-check"></i><b>5.6.1</b> Add plain text to the UI</a></li>
<li class="chapter" data-level="5.6.2" data-path="shiny.html"><a href="shiny.html#add-formatted-text-and-other-html-elements"><i class="fa fa-check"></i><b>5.6.2</b> Add formatted text and other HTML elements</a></li>
<li class="chapter" data-level="5.6.3" data-path="shiny.html"><a href="shiny.html#add-a-title"><i class="fa fa-check"></i><b>5.6.3</b> Add a title</a></li>
<li class="chapter" data-level="5.6.4" data-path="shiny.html"><a href="shiny.html#add-a-layout"><i class="fa fa-check"></i><b>5.6.4</b> Add a layout</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="shiny.html"><a href="shiny.html#all-ui-functions-are-simply-html-wrappers"><i class="fa fa-check"></i><b>5.7</b> All UI functions are simply HTML wrappers</a></li>
<li class="chapter" data-level="5.8" data-path="shiny.html"><a href="shiny.html#add-inputs-to-the-ui"><i class="fa fa-check"></i><b>5.8</b> Add inputs to the UI</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="shiny.html"><a href="shiny.html#input-for-hourly-wage"><i class="fa fa-check"></i><b>5.8.1</b> Input for hourly wage</a></li>
<li class="chapter" data-level="5.8.2" data-path="shiny.html"><a href="shiny.html#input-for-fullpart-time"><i class="fa fa-check"></i><b>5.8.2</b> Input for full/part-time</a></li>
<li class="chapter" data-level="5.8.3" data-path="shiny.html"><a href="shiny.html#input-for-department"><i class="fa fa-check"></i><b>5.8.3</b> Input for department</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="shiny.html"><a href="shiny.html#add-placeholders-for-outputs"><i class="fa fa-check"></i><b>5.9</b> Add placeholders for outputs</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="shiny.html"><a href="shiny.html#output-for-a-plot-of-the-results"><i class="fa fa-check"></i><b>5.9.1</b> Output for a plot of the results</a></li>
<li class="chapter" data-level="5.9.2" data-path="shiny.html"><a href="shiny.html#output-for-a-table-summary-of-the-results"><i class="fa fa-check"></i><b>5.9.2</b> Output for a table summary of the results</a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="shiny.html"><a href="shiny.html#checkpoint-what-our-app-looks-like-after-implementing-the-ui"><i class="fa fa-check"></i><b>5.10</b> Checkpoint: what our app looks like after implementing the UI</a></li>
<li class="chapter" data-level="5.11" data-path="shiny.html"><a href="shiny.html#implement-server-logic-to-create-outputs"><i class="fa fa-check"></i><b>5.11</b> Implement server logic to create outputs</a>
<ul>
<li class="chapter" data-level="5.11.1" data-path="shiny.html"><a href="shiny.html#building-an-output"><i class="fa fa-check"></i><b>5.11.1</b> Building an output</a></li>
<li class="chapter" data-level="5.11.2" data-path="shiny.html"><a href="shiny.html#making-an-output-react-to-an-input"><i class="fa fa-check"></i><b>5.11.2</b> Making an output react to an input</a></li>
<li class="chapter" data-level="5.11.3" data-path="shiny.html"><a href="shiny.html#building-the-plot-output"><i class="fa fa-check"></i><b>5.11.3</b> Building the plot output</a></li>
<li class="chapter" data-level="5.11.4" data-path="shiny.html"><a href="shiny.html#building-the-table-output"><i class="fa fa-check"></i><b>5.11.4</b> Building the table output</a></li>
</ul></li>
<li class="chapter" data-level="5.12" data-path="shiny.html"><a href="shiny.html#reactivity-101"><i class="fa fa-check"></i><b>5.12</b> Reactivity 101</a>
<ul>
<li class="chapter" data-level="5.12.1" data-path="shiny.html"><a href="shiny.html#creating-and-accessing-reactive-variables"><i class="fa fa-check"></i><b>5.12.1</b> Creating and accessing reactive variables</a></li>
<li class="chapter" data-level="5.12.2" data-path="shiny.html"><a href="shiny.html#using-reactive-variables-to-reduce-code-duplication"><i class="fa fa-check"></i><b>5.12.2</b> Using reactive variables to reduce code duplication</a></li>
<li class="chapter" data-level="5.12.3" data-path="shiny.html"><a href="shiny.html#blank-plots-showing-up"><i class="fa fa-check"></i><b>5.12.3</b> Blank plots showing up</a></li>
</ul></li>
<li class="chapter" data-level="5.13" data-path="shiny.html"><a href="shiny.html#using-uioutput-to-create-ui-elements-dynamically"><i class="fa fa-check"></i><b>5.13</b> Using <code>uiOutput()</code> to create UI elements dynamically</a>
<ul>
<li class="chapter" data-level="5.13.1" data-path="shiny.html"><a href="shiny.html#basic-example-of-uioutput"><i class="fa fa-check"></i><b>5.13.1</b> Basic example of <code>uiOutput()</code></a></li>
<li class="chapter" data-level="5.13.2" data-path="shiny.html"><a href="shiny.html#use-uioutput-in-our-app-to-populate-the-job-titles"><i class="fa fa-check"></i><b>5.13.2</b> Use <code>uiOutput()</code> in our app to populate the job titles</a></li>
</ul></li>
<li class="chapter" data-level="5.14" data-path="shiny.html"><a href="shiny.html#final-shiny-app-code"><i class="fa fa-check"></i><b>5.14</b> Final Shiny app code</a></li>
<li class="chapter" data-level="5.15" data-path="shiny.html"><a href="shiny.html#share-your-app-with-the-world"><i class="fa fa-check"></i><b>5.15</b> Share your app with the world</a>
<ul>
<li class="chapter" data-level="5.15.1" data-path="shiny.html"><a href="shiny.html#host-on-shinyapps.io"><i class="fa fa-check"></i><b>5.15.1</b> Host on shinyapps.io</a></li>
<li class="chapter" data-level="5.15.2" data-path="shiny.html"><a href="shiny.html#host-on-a-shiny-server"><i class="fa fa-check"></i><b>5.15.2</b> Host on a Shiny Server</a></li>
</ul></li>
<li class="chapter" data-level="5.16" data-path="shiny.html"><a href="shiny.html#more-shiny-features-to-check-out"><i class="fa fa-check"></i><b>5.16</b> More Shiny features to check out</a>
<ul>
<li class="chapter" data-level="5.16.1" data-path="shiny.html"><a href="shiny.html#shiny-in-rmarkdown"><i class="fa fa-check"></i><b>5.16.1</b> Shiny in Rmarkdown</a></li>
<li class="chapter" data-level="5.16.2" data-path="shiny.html"><a href="shiny.html#use-conditionalpanel-to-conditionally-show-ui-elements"><i class="fa fa-check"></i><b>5.16.2</b> Use <code>conditionalPanel()</code> to conditionally show UI elements</a></li>
<li class="chapter" data-level="5.16.3" data-path="shiny.html"><a href="shiny.html#use-navbarpage-or-tabsetpanel-to-have-multiple-tabs-in-the-ui"><i class="fa fa-check"></i><b>5.16.3</b> Use <code>navbarPage()</code> or <code>tabsetPanel()</code> to have multiple tabs in the UI</a></li>
<li class="chapter" data-level="5.16.4" data-path="shiny.html"><a href="shiny.html#use-dt-for-beautiful-interactive-tables"><i class="fa fa-check"></i><b>5.16.4</b> Use DT for beautiful, interactive tables</a></li>
<li class="chapter" data-level="5.16.5" data-path="shiny.html"><a href="shiny.html#use-isolate-function-to-remove-a-dependency-on-a-reactive-variable"><i class="fa fa-check"></i><b>5.16.5</b> Use isolate() function to remove a dependency on a reactive variable</a></li>
<li class="chapter" data-level="5.16.6" data-path="shiny.html"><a href="shiny.html#use-updateinput-functions-to-update-input-values-programmatically"><i class="fa fa-check"></i><b>5.16.6</b> Use <code>update*Input()</code> functions to update input values programmatically</a></li>
<li class="chapter" data-level="5.16.7" data-path="shiny.html"><a href="shiny.html#scoping-rules-in-shiny-apps"><i class="fa fa-check"></i><b>5.16.7</b> Scoping rules in Shiny apps</a></li>
<li class="chapter" data-level="5.16.8" data-path="shiny.html"><a href="shiny.html#use-global.r-to-define-objects-available-to-both-ui.r-and-server.r"><i class="fa fa-check"></i><b>5.16.8</b> Use global.R to define objects available to both ui.R and server.R</a></li>
<li class="chapter" data-level="5.16.9" data-path="shiny.html"><a href="shiny.html#add-images"><i class="fa fa-check"></i><b>5.16.9</b> Add images</a></li>
<li class="chapter" data-level="5.16.10" data-path="shiny.html"><a href="shiny.html#add-javascriptcss"><i class="fa fa-check"></i><b>5.16.10</b> Add JavaScript/CSS</a></li>
</ul></li>
<li class="chapter" data-level="5.17" data-path="shiny.html"><a href="shiny.html#awesome-add-on-packages-to-shiny"><i class="fa fa-check"></i><b>5.17</b> Awesome add-on packages to Shiny</a></li>
<li class="chapter" data-level="5.18" data-path="shiny.html"><a href="shiny.html#resources"><i class="fa fa-check"></i><b>5.18</b> Resources</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#acknowledgments-2"><i class="fa fa-check"></i>Acknowledgments</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#session-info-4"><i class="fa fa-check"></i>Session info</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Visualization</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="science-polish" class="section level1" number="3">
<h1><span class="header-section-number">Day 3</span> Making plots pretty and clean</h1>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="science-polish.html#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb145-2"><a href="science-polish.html#cb145-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggthemes)</span>
<span id="cb145-3"><a href="science-polish.html#cb145-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb145-4"><a href="science-polish.html#cb145-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb145-5"><a href="science-polish.html#cb145-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb145-6"><a href="science-polish.html#cb145-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(socviz)</span>
<span id="cb145-7"><a href="science-polish.html#cb145-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb145-8"><a href="science-polish.html#cb145-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb145-9"><a href="science-polish.html#cb145-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(colorspace)</span>
<span id="cb145-10"><a href="science-polish.html#cb145-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dichromat)</span>
<span id="cb145-11"><a href="science-polish.html#cb145-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggrepel)</span>
<span id="cb145-12"><a href="science-polish.html#cb145-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggthemes)</span>
<span id="cb145-13"><a href="science-polish.html#cb145-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb145-14"><a href="science-polish.html#cb145-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb145-15"><a href="science-polish.html#cb145-15" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span></code></pre></div>
<div id="learning-objectives-2" class="section level2 unnumbered">
<h2>Learning objectives</h2>
<div id="morning-2" class="section level3" number="3.0.1">
<h3><span class="header-section-number">3.0.1</span> Morning</h3>
<ul>
<li>Define Tufte’s theory of data graphics, data-ink ratio, and chartjunk</li>
<li>Present and compare examples of minimalistic graphics to their original form</li>
<li>Assess visualizations under the engineer/designers philosophy</li>
</ul>
</div>
<div id="afternoon-2" class="section level3" number="3.0.2">
<h3><span class="header-section-number">3.0.2</span> Afternoon</h3>
<ul>
<li>Demonstrate methods for visualizing uncertainty</li>
<li>Generate layered plots to highlight specific attributes of data</li>
<li>Adjust themes</li>
</ul>
</div>
</div>
<div id="assigned-readings-2" class="section level2 unnumbered">
<h2>Assigned readings</h2>
<ul>
<li>Chapter 8, <span class="citation">Healy (<a href="#ref-healy2018data" role="doc-biblioref">2018</a>)</span> - accessible via the <a href="https://socviz.co/">book’s website</a></li>
</ul>
</div>
<div id="tuftes-world" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Tufte’s world</h2>
<ul>
<li><p>Core purpose of visualization is to communicate quantitative information</p>
<ul>
<li>Art is secondary</li>
<li>“Above all else show the data”</li>
</ul></li>
<li><p>Goal is to maximize the data-ink ratio</p>
<p><span class="math display">\[\text{Data-ink ratio} = \frac{\text{data-ink}}{\text{total ink used to print the graphic}}\]</span></p></li>
<li><p><strong>Data-ink</strong> - non-erasable core of a graphic</p>
<ul>
<li>This is what Tufte says we should most care about</li>
<li>Minimize all extraneous fluff</li>
</ul></li>
<li><p>What should we consider to be part of the “data-ink”?</p>
<ul>
<li>Is this literally just the data? Don’t we need gridlines or axes? What else can be considered integral to the graph?</li>
</ul></li>
<li><p>He never offers proof of his hypothesis that less is better</p></li>
</ul>
<div id="what-is-integral" class="section level3" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> What is integral?</h3>
<p><img src="03-scientific-results-polish_files/figure-html/integral-1.png" width="80%" style="display: block; margin: auto;" /></p>
<ul>
<li>Data points</li>
<li>Axis ticks</li>
<li>Axis tick labels</li>
<li>Axis labels</li>
<li>Background</li>
<li>Grid lines</li>
</ul>
<p>What happens if we strip away everything except the data?</p>
<p><img src="03-scientific-results-polish_files/figure-html/integral-void-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>Hmm, so what do we actually need to keep? What should we consider “integral”? What if we remove the background color?</p>
<p><img src="03-scientific-results-polish_files/figure-html/integral-background-1.png" width="80%" style="display: block; margin: auto;" /></p>
<ul>
<li>Remove panel box</li>
</ul>
<p><img src="03-scientific-results-polish_files/figure-html/integral-panelbox-1.png" width="80%" style="display: block; margin: auto;" /></p>
<ul>
<li>Remove minor grid lines</li>
</ul>
<p><img src="03-scientific-results-polish_files/figure-html/integral-minor-1.png" width="80%" style="display: block; margin: auto;" /></p>
<ul>
<li>Remove all grid lines</li>
</ul>
<p><img src="03-scientific-results-polish_files/figure-html/integral-major-1.png" width="80%" style="display: block; margin: auto;" /></p>
<ul>
<li>Remove tick marks</li>
</ul>
<p><img src="03-scientific-results-polish_files/figure-html/integral-tick-1.png" width="80%" style="display: block; margin: auto;" /></p>
<ul>
<li>Use serif font</li>
</ul>
<p><img src="03-scientific-results-polish_files/figure-html/integral-serif-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>What have we lost? Is this easier to interpret? Harder?</p>
</div>
</div>
<div id="chart-junk" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Chart junk</h2>
<p><img src="images/monster-costs.png" width="80%" style="display: block; margin: auto;" /></p>
<p><img src="images/mcdonalds.jpeg" width="80%" style="display: block; margin: auto;" /></p>
<p><img src="images/3d-ribbon-chart.jpeg" width="80%" style="display: block; margin: auto;" /></p>
<p><img src="images/wasted-space.jpeg" width="80%" style="display: block; margin: auto;" /></p>
<ul>
<li><p>Vibrating moire effects</p>
<ul>
<li>Hard to produce in <code>ggplot2</code> - no support for them</li>
<li>Eye junk</li>
<li>Makes the graph harder to decode/interpret</li>
</ul></li>
<li><p>The grid</p>
<ul>
<li>Minimize/reduce the thickness of grid lines to ease interpretation</li>
<li>Less visual clutter to weed through</li>
<li>Add some compare/contrast with <code>ggplot</code></li>
</ul></li>
<li><p>The duck</p></li>
<li><p>Tufte concludes that forgoing chartjunk enables functionality and insight (as Cairo would describe it). Do you agree?</p></li>
</ul>
</div>
<div id="compare-tufte-minimal-graphs-to-traditional-graphs-using-ggplot2" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> Compare Tufte minimal graphs to traditional graphs using <code>ggplot2</code></h2>
<ul>
<li><a href="https://github.com/jrnold/ggthemes"><code>ggthemes</code></a></li>
<li>Compare other themes for the same basic plot<a href="references.html#fn11" class="footnote-ref" id="fnref11"><sup>11</sup></a></li>
</ul>
<p>The goal of Tufte’s minimalism is to maximize the data-ink ratio, so we want to modify traditional or default graphs in R and <code>ggplot2</code> to minimize use of extraneous ink.</p>
<div id="minimal-line-plot" class="section level3" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> Minimal line plot</h3>
<p><img src="03-scientific-results-polish_files/figure-html/line-1.png" width="80%" style="display: block; margin: auto;" /></p>
<ul>
<li>We use <code>geom_point()</code> to draw the data points and <code>geom_line()</code> to connect the points</li>
<li>What is the extraneous ink on this graph?
<ul>
<li>Background</li>
<li>Title of graph and y-axis labels - redundant</li>
<li>x-axis label - year is obvious/self-explanatory</li>
</ul></li>
<li>Missing context - how is this expansion meaningful over time?</li>
</ul>
<p><img src="03-scientific-results-polish_files/figure-html/minline-1.png" width="80%" style="display: block; margin: auto;" /></p>
<ul>
<li>Remove axis and graph titles</li>
<li>Adds text annotation within graph</li>
<li>Highlights a 5% increase in per capital expandures</li>
<li>Changes font to be more aesthetically pleasing, not so blockish</li>
</ul>
</div>
<div id="minimal-boxplot" class="section level3" number="3.3.2">
<h3><span class="header-section-number">3.3.2</span> Minimal boxplot</h3>
<p><img src="03-scientific-results-polish_files/figure-html/boxplot-1.png" width="80%" style="display: block; margin: auto;" /></p>
<ul>
<li>Key features of a boxplot
<ul>
<li>Lines to indicate:
<ul>
<li>Maximum of IQR</li>
<li>3rd quartile</li>
<li>Median</li>
<li>1st quartile</li>
<li>Minimum of IQR</li>
</ul></li>
<li>Dots for outliers</li>
</ul></li>
<li>How many different line strokes do we use?
<ul>
<li>8 for each graph</li>
<li><span class="math inline">\(8 \times 22 = 176\)</span></li>
</ul></li>
<li>This is extraneous ink</li>
</ul>
<p><img src="03-scientific-results-polish_files/figure-html/minboxplot-1.png" width="80%" style="display: block; margin: auto;" /></p>
<ul>
<li>Now we use only 22 verticals to show the same data. It could easily be drawn by hand with a single vertical for each category on the x-axis</li>
<li>Doesn’t show outlier info, but is this really necessary?</li>
<li>Also removes the background color and gridlines</li>
</ul>
<p><img src="03-scientific-results-polish_files/figure-html/offset-boxplot-1.png" width="80%" style="display: block; margin: auto;" /></p>
<ul>
<li>Here we use offsetting lines to indicate the middle half of the data rather than using a gap</li>
<li>Is this prettier? Easier to interpret?</li>
</ul>
</div>
<div id="minimal-barchart" class="section level3" number="3.3.3">
<h3><span class="header-section-number">3.3.3</span> Minimal barchart</h3>
<p><img src="03-scientific-results-polish_files/figure-html/bar-1.png" width="80%" style="display: block; margin: auto;" /></p>
<ul>
<li>Again, the background is the main culprit</li>
</ul>
<p><img src="03-scientific-results-polish_files/figure-html/minbar-1.png" width="80%" style="display: block; margin: auto;" /></p>
<ul>
<li>Erases the box/grid background</li>
<li>Removes vertical axis</li>
<li>Use a <strong>white grid</strong> to show coordinate lines through the absence of ink, rather than adding ink
<ul>
<li>Allows us to remove tick marks as well</li>
</ul></li>
</ul>
</div>
<div id="range-frame-scatterplot" class="section level3" number="3.3.4">
<h3><span class="header-section-number">3.3.4</span> Range-frame scatterplot</h3>
<ul>
<li>A standard bivariate scatterplot</li>
</ul>
<p><img src="03-scientific-results-polish_files/figure-html/scatterplot-1.png" width="80%" style="display: block; margin: auto;" /></p>
<ul>
<li>Use the frame/axis lines of the graph to communicate important information
<ul>
<li>Extends only to minimum/maximum values in the data, rather than arbitrary points</li>
<li>Explicitly identifies the minimum and maximum values</li>
</ul></li>
</ul>
<p><img src="03-scientific-results-polish_files/figure-html/range-frame-1.png" width="80%" style="display: block; margin: auto;" /></p>
<div id="with-a-quartile-plot" class="section level4" number="3.3.4.1">
<h4><span class="header-section-number">3.3.4.1</span> With a quartile plot</h4>
<p><img src="03-scientific-results-polish_files/figure-html/range-frame-quartile-1.png" width="80%" style="display: block; margin: auto;" /></p>
<ul>
<li>Combine with info on the quartiles of the data to show case this info as well</li>
<li>Thicker bar indicates inner two quartiles</li>
<li>Median is explicitly labeled</li>
</ul>
</div>
</div>
</div>
<div id="reconsidering-tufte" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> Reconsidering Tufte</h2>
<div id="when-is-redundancy-better" class="section level3" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> When is redundancy better?</h3>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:double-bar-chart"></span>
<img src="https://dougmccune.com/blog/wp-content/uploads/2011/04/burglary1.png" alt="Double-time bar chart of crime in the city of San Francisco, 2009-10. Source: [Visualizing Time with the Double-Time Bar Chart](https://dougmccune.com/blog/2011/04/26/visualizing-time-with-the-double-time-bar-chart/)" width="80%" />
<p class="caption">
Figure 1.1: Double-time bar chart of crime in the city of San Francisco, 2009-10. Source: <a href="https://dougmccune.com/blog/2011/04/26/visualizing-time-with-the-double-time-bar-chart/">Visualizing Time with the Double-Time Bar Chart</a>
</p>
</div>
<ul>
<li>Each set of 24 bars show the same data. The top bars run from midnight to 11pm. The bottom bars run from noon to 11am.</li>
<li>Highlighted regions represent 6-5 (6am-5pm; 6pm-5am)</li>
<li>Colors represent (roughly) day and night (yellow for day, blue for night)</li>
<li>Enables representing trends over a 24 hour period without breaking arbitrarily at midnight</li>
</ul>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:double-bar-chart-facet"></span>
<img src="https://dougmccune.com/blog/wp-content/uploads/2011/04/small_multiples_small.png" alt="Double-time bar chart of crime in the city of San Francisco, 2009-10. Source: [Visualizing Time with the Double-Time Bar Chart](https://dougmccune.com/blog/2011/04/26/visualizing-time-with-the-double-time-bar-chart/)" width="80%" />
<p class="caption">
Figure 1.2: Double-time bar chart of crime in the city of San Francisco, 2009-10. Source: <a href="https://dougmccune.com/blog/2011/04/26/visualizing-time-with-the-double-time-bar-chart/">Visualizing Time with the Double-Time Bar Chart</a>
</p>
</div>
<ul>
<li>The second graph is incredibly redundant, but which is easier to interpret?
<ul>
<li>Does it pass Tufte’s test?</li>
<li>What does it mean to be “integral”?</li>
</ul></li>
</ul>
</div>
<div id="does-minimalism-really-help-here" class="section level3" number="3.4.2">
<h3><span class="header-section-number">3.4.2</span> Does minimalism really help here?</h3>
<ul>
<li>Accompanying an article declaring that student progress on NAEP tests has come to a virtual standstill</li>
</ul>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:naep-junk"></span>
<img src="https://junkcharts.typepad.com/.a/6a00d8341e992c53ef01b7c8b60cd9970b-pi" alt="Chart from Harvard magazine. Source: [Involuntary head-shaking is probably not an intended consequence of data visualization](https://junkcharts.typepad.com/junk_charts/2016/11/involuntary-head-shaking-is-probably-not-an-intended-consequence-of-data-visualization.html)" width="80%" />
<p class="caption">
Figure 3.1: Chart from Harvard magazine. Source: <a href="https://junkcharts.typepad.com/junk_charts/2016/11/involuntary-head-shaking-is-probably-not-an-intended-consequence-of-data-visualization.html">Involuntary head-shaking is probably not an intended consequence of data visualization</a>
</p>
</div>
<ul>
<li>What is the comparison we should make?</li>
<li>Is this too much color?</li>
<li>Meets Tufte’s minimalist standards, probably has a decent data-ink ratio</li>
<li>Note Grade 4 math scores for whites in 2009-2015 - does this mean no progress or unknown scores?</li>
</ul>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:naep-redesign"></span>
<img src="https://junkcharts.typepad.com/.a/6a00d8341e992c53ef01b8d23fe1c7970c-pi" alt="Redesigned chart from Harvard magazine. Source: [Involuntary head-shaking is probably not an intended consequence of data visualization](https://junkcharts.typepad.com/junk_charts/2016/11/involuntary-head-shaking-is-probably-not-an-intended-consequence-of-data-visualization.html)" width="80%" />
<p class="caption">
Figure 3.2: Redesigned chart from Harvard magazine. Source: <a href="https://junkcharts.typepad.com/junk_charts/2016/11/involuntary-head-shaking-is-probably-not-an-intended-consequence-of-data-visualization.html">Involuntary head-shaking is probably not an intended consequence of data visualization</a>
</p>
</div>
<ul>
<li>This version is much clearer - specifically tells us how to compare the scores</li>
<li>Removes color as a channel, using linetype instead
<ul>
<li>In this situation, is that better or worse?</li>
</ul></li>
<li>Title for the graph makes clear the point trying to be made</li>
</ul>
</div>
<div id="experimental-tests-of-tuftes-claims" class="section level3" number="3.4.3">
<h3><span class="header-section-number">3.4.3</span> Experimental tests of Tufte’s claims</h3>
<ul>
<li>How do we know Tufte’s claims are true? We can test them with experiments!</li>
</ul>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:tufte-experiment"></span>
<img src="images/tufte_experiment.png" alt="Source: Figure 2 from [Bateman, Scott, et al. &quot;Useful junk?: the effects of visual embellishment on comprehension and memorability of charts.&quot; *Proceedings of the SIGCHI Conference on Human Factors in Computing Systems*. ACM, 2010.](http://www.cedma-europe.org/newsletter%20articles/misc/The%20Effects%20of%20Visual%20Embellishment%20on%20Comprehension%20and%20Memorability%20of%20Charts.pdf)" width="80%" />
<p class="caption">
Figure 3.3: Source: Figure 2 from <a href="http://www.cedma-europe.org/newsletter%20articles/misc/The%20Effects%20of%20Visual%20Embellishment%20on%20Comprehension%20and%20Memorability%20of%20Charts.pdf">Bateman, Scott, et al. “Useful junk?: the effects of visual embellishment on comprehension and memorability of charts.” <em>Proceedings of the SIGCHI Conference on Human Factors in Computing Systems</em>. ACM, 2010.</a>
</p>
</div>
<div id="protocol" class="section level4" number="3.4.3.1">
<h4><span class="header-section-number">3.4.3.1</span> Protocol</h4>
<ul>
<li>Compared chartjunk versions of graphs to standard/minimalist versions of graphs</li>
<li>Tested individuals on chart description and recall</li>
<li>20 subjects split into short and long-term recall groups
<ul>
<li>Quite a small sample of convenience (university population)</li>
</ul></li>
<li>Collected measures
<ul>
<li>Response scores - did the individual correctly read/interpret the chart?</li>
<li>Preferences - which type of chart did the individual prefer? Standard or embellished?</li>
<li>Gaze data - where did the subject look during the experiment? At data regions or embellishment regions?</li>
</ul></li>
</ul>
</div>
<div id="results" class="section level4" number="3.4.3.2">
<h4><span class="header-section-number">3.4.3.2</span> Results</h4>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:tufte-experiment-results"></span>
<img src="images/tufte_experiment_results.png" alt="Source: Figures 4-6 from [Bateman, Scott, et al. &quot;Useful junk?: the effects of visual embellishment on comprehension and memorability of charts.&quot; *Proceedings of the SIGCHI Conference on Human Factors in Computing Systems*. ACM, 2010.](http://www.cedma-europe.org/newsletter%20articles/misc/The%20Effects%20of%20Visual%20Embellishment%20on%20Comprehension%20and%20Memorability%20of%20Charts.pdf)" width="80%" />
<p class="caption">
Figure 3.4: Source: Figures 4-6 from <a href="http://www.cedma-europe.org/newsletter%20articles/misc/The%20Effects%20of%20Visual%20Embellishment%20on%20Comprehension%20and%20Memorability%20of%20Charts.pdf">Bateman, Scott, et al. “Useful junk?: the effects of visual embellishment on comprehension and memorability of charts.” <em>Proceedings of the SIGCHI Conference on Human Factors in Computing Systems</em>. ACM, 2010.</a>
</p>
</div>
<ul>
<li>No difference for description</li>
<li>No difference for immediate recall</li>
<li>Embellished images slightly better for long-term recall (12-22 days after treatment)</li>
</ul>
</div>
</div>
<div id="discussing-the-results" class="section level3" number="3.4.4">
<h3><span class="header-section-number">3.4.4</span> Discussing the results</h3>
<ul>
<li>Why did the chartjunk not lead to worse description and recall?
<ul>
<li>Chartjunk was related to the topic of the chart</li>
<li>“Gets to the point quicker”</li>
</ul></li>
<li>Why would the embellished images produce better long-term recall?
<ul>
<li>Very vivid image</li>
<li>Value message - individual believes author is trying to communicate a set of values</li>
<li>Embellished images produced more value messages</li>
</ul></li>
<li>Should visualizations be “objective”?
<ul>
<li>Tufte seems to think so: minimalism leads to the data speaking for itself - do we buy this?</li>
</ul></li>
</ul>
</div>
<div id="rethinking-tuftes-definition-of-visual-excellence" class="section level3" number="3.4.5">
<h3><span class="header-section-number">3.4.5</span> Rethinking Tufte’s definition of visual excellence</h3>
<ul>
<li>Too many of Tufte’s claims are based on nothing - no evidence to support his minimalistic approach to graphical design</li>
<li>Think of the hockey stick chart vs. xkcd on Earth’s temperature
<ul>
<li>According to Tufte, both probably have a lot of chartjunk (xkcd more so)</li>
<li>But if asked to remember the importance and story of the graph weeks later, which one do you think the average reader would recall better?</li>
</ul></li>
</ul>
</div>
<div id="testing-this-theory" class="section level3" number="3.4.6">
<h3><span class="header-section-number">3.4.6</span> Testing this theory</h3>
<ul>
<li>Design an experiment to test the impact/effectiveness of chartjunk vs. minimalism</li>
<li>What protocols/features could we use? How could we deploy the experiment?
<ul>
<li>If deployed on a platform such as Amazon MTurk, what are the benefits and drawbacks?</li>
</ul></li>
</ul>
</div>
</div>
<div id="visualizing-uncertainty" class="section level2" number="3.5">
<h2><span class="header-section-number">3.5</span> Visualizing uncertainty</h2>

<div class="rmdnote">
<p>Download the necessary data files for the following coding exercises using <code>usethis::use_course("css-data-mining-viz/science-polish")</code>.</p>
</div>
<p>For this example, we’re going to use historical weather data from <a href="https://darksky.net/forecast/33.7546,-84.39/us12/en">Dark Sky</a> about wind speed and temperature trends for downtown Atlanta (<a href="https://www.google.com/maps/place/33°45&#39;16.4%22N+84°23&#39;24.0%22W/@33.754557,-84.3921977,17z/">specifically <code>33.754557, -84.390009</code></a>) in 2019. I downloaded this data using Dark Sky’s (about-to-be-retired-because-they-were-bought-by-Apple) API using the <a href="https://github.com/hrbrmstr/darksky"><strong>darksky</strong> package</a>.</p>
<ul>
<li><a href="/data/atl-weather-2019.csv"><code>atl-weather-2019.csv</code></a></li>
</ul>
<div id="load-and-clean-data-2" class="section level3" number="3.5.1">
<h3><span class="header-section-number">3.5.1</span> Load and clean data</h3>
<p>First, we load the libraries we’ll be using:</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="science-polish.html#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb146-2"><a href="science-polish.html#cb146-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb146-3"><a href="science-polish.html#cb146-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggridges)</span>
<span id="cb146-4"><a href="science-polish.html#cb146-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gghalves)</span></code></pre></div>
<p>Then we load the data with <code>read_csv()</code>. Here I assume that the CSV file lives in a subfolder in my project named <code>data</code>:</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="science-polish.html#cb147-1" aria-hidden="true" tabindex="-1"></a>weather_atl_raw <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/atl-weather-2019.csv&quot;</span>)</span></code></pre></div>
<p>We’ll add a couple columns that we can use for faceting and filling using the <code>month()</code> and <code>wday()</code> functions from <strong>lubridate</strong> for extracting parts of the date:</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="science-polish.html#cb148-1" aria-hidden="true" tabindex="-1"></a>weather_atl <span class="ot">&lt;-</span> weather_atl_raw <span class="sc">%&gt;%</span> </span>
<span id="cb148-2"><a href="science-polish.html#cb148-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Month =</span> <span class="fu">month</span>(time, <span class="at">label =</span> <span class="cn">TRUE</span>, <span class="at">abbr =</span> <span class="cn">FALSE</span>),</span>
<span id="cb148-3"><a href="science-polish.html#cb148-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">Day =</span> <span class="fu">wday</span>(time, <span class="at">label =</span> <span class="cn">TRUE</span>, <span class="at">abbr =</span> <span class="cn">FALSE</span>))</span></code></pre></div>
<p>Now we’re ready to go!</p>
</div>
<div id="histograms-1" class="section level3" number="3.5.2">
<h3><span class="header-section-number">3.5.2</span> Histograms</h3>
<p>We can first make a histogram of wind speed. We’ll use a bin width of 1 and color the edges of the bars white:</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="science-polish.html#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(weather_atl, <span class="fu">aes</span>(<span class="at">x =</span> windSpeed)) <span class="sc">+</span></span>
<span id="cb149-2"><a href="science-polish.html#cb149-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">&quot;white&quot;</span>)</span></code></pre></div>
<p><img src="03-scientific-results-polish_files/figure-html/basic-histogram-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>This is fine enough, but we can improve it by forcing the buckets/bins to start at whole numbers instead of containing ranges like 2.5–3.5. We’ll use the <code>boundary</code> argument for that. We also add <code>scale_x_continuous()</code> to add our own x-axis breaks instead of having things like 2.5, 5, and 7.5:</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="science-polish.html#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(weather_atl, <span class="fu">aes</span>(<span class="at">x =</span> windSpeed)) <span class="sc">+</span></span>
<span id="cb150-2"><a href="science-polish.html#cb150-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">&quot;white&quot;</span>, <span class="at">boundary =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb150-3"><a href="science-polish.html#cb150-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">12</span>, <span class="at">by =</span> <span class="dv">1</span>))</span></code></pre></div>
<p><img src="03-scientific-results-polish_files/figure-html/basic-histogram-better-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>We can show the distribution of wind speed by month if we map the <code>Month</code> column we made onto the fill aesthetic:</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="science-polish.html#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(weather_atl, <span class="fu">aes</span>(<span class="at">x =</span> windSpeed, <span class="at">fill =</span> Month)) <span class="sc">+</span></span>
<span id="cb151-2"><a href="science-polish.html#cb151-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">&quot;white&quot;</span>, <span class="at">boundary =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb151-3"><a href="science-polish.html#cb151-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">12</span>, <span class="at">by =</span> <span class="dv">1</span>))</span></code></pre></div>
<p><img src="03-scientific-results-polish_files/figure-html/histogram-by-month-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>This is colorful, but it’s impossible to actually interpret. Instead of only filling, we’ll also facet by month to see separate graphs for each month. We can turn off the fill legend because it’s now redundant.</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="science-polish.html#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(weather_atl, <span class="fu">aes</span>(<span class="at">x =</span> windSpeed, <span class="at">fill =</span> Month)) <span class="sc">+</span></span>
<span id="cb152-2"><a href="science-polish.html#cb152-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">&quot;white&quot;</span>, <span class="at">boundary =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb152-3"><a href="science-polish.html#cb152-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">12</span>, <span class="at">by =</span> <span class="dv">1</span>)) <span class="sc">+</span> </span>
<span id="cb152-4"><a href="science-polish.html#cb152-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb152-5"><a href="science-polish.html#cb152-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(Month))</span></code></pre></div>
<p><img src="03-scientific-results-polish_files/figure-html/histogram-by-month-facet-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>Neat! January, March, and April appear to have the most variation in windy days, with a few wind-less days and a few very-windy days, while August was very wind-less.</p>
</div>
<div id="density-plots" class="section level3" number="3.5.3">
<h3><span class="header-section-number">3.5.3</span> Density plots</h3>
<p>The code to create a density plot is nearly identical to what we used for the histogram—the only thing we change is the <code>geom</code> layer:</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="science-polish.html#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(weather_atl, <span class="fu">aes</span>(<span class="at">x =</span> windSpeed)) <span class="sc">+</span></span>
<span id="cb153-2"><a href="science-polish.html#cb153-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">color =</span> <span class="st">&quot;grey20&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;grey50&quot;</span>)</span></code></pre></div>
<p><img src="03-scientific-results-polish_files/figure-html/basic-density-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>If we want, we can mess with some of the calculus options like the kernel and bandwidth:</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="science-polish.html#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(weather_atl, <span class="fu">aes</span>(<span class="at">x =</span> windSpeed)) <span class="sc">+</span></span>
<span id="cb154-2"><a href="science-polish.html#cb154-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">color =</span> <span class="st">&quot;grey20&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;grey50&quot;</span>,</span>
<span id="cb154-3"><a href="science-polish.html#cb154-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">bw =</span> <span class="fl">0.1</span>, <span class="at">kernel =</span> <span class="st">&quot;epanechnikov&quot;</span>)</span></code></pre></div>
<p><img src="03-scientific-results-polish_files/figure-html/density-kernel-bw-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>We can also fill by month. We’ll make the different layers 50% transparent so we can kind of see through the whole stack:</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="science-polish.html#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(weather_atl, <span class="fu">aes</span>(<span class="at">x =</span> windSpeed, <span class="at">fill =</span> Month)) <span class="sc">+</span></span>
<span id="cb155-2"><a href="science-polish.html#cb155-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="03-scientific-results-polish_files/figure-html/density-fill-by-month-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>Even with the transparency, this is really hard to interpret. We can fix this by faceting, like we did with the histograms:</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="science-polish.html#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(weather_atl, <span class="fu">aes</span>(<span class="at">x =</span> windSpeed, <span class="at">fill =</span> Month)) <span class="sc">+</span></span>
<span id="cb156-2"><a href="science-polish.html#cb156-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb156-3"><a href="science-polish.html#cb156-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb156-4"><a href="science-polish.html#cb156-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(Month))</span></code></pre></div>
<p><img src="03-scientific-results-polish_files/figure-html/density-facet-by-month-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>Or we can stack the density plots behind each other with <a href="https://cran.r-project.org/web/packages/ggridges/vignettes/introduction.html"><strong>ggridges</strong></a>. For that to work, we also need to map <code>Month</code> to the y-axis. We can reverse the y-axis so that January is at the top if we use the <code>fct_rev()</code> function:</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="science-polish.html#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(weather_atl, <span class="fu">aes</span>(<span class="at">x =</span> windSpeed, <span class="at">y =</span> <span class="fu">fct_rev</span>(Month), <span class="at">fill =</span> Month)) <span class="sc">+</span></span>
<span id="cb157-2"><a href="science-polish.html#cb157-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>() <span class="sc">+</span></span>
<span id="cb157-3"><a href="science-polish.html#cb157-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="03-scientific-results-polish_files/figure-html/ggridges-basic-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>We can add some extra information to <code>geom_density_ridges()</code> with some other arguments like <code>quantile_lines</code>. We can use the <code>quantiles</code> argument to tell the plow how many parts to be cut into. Since we just want to show the median, we’ll set that to 2 so each density plot is divided in half:</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="science-polish.html#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(weather_atl, <span class="fu">aes</span>(<span class="at">x =</span> windSpeed, <span class="at">y =</span> <span class="fu">fct_rev</span>(Month), <span class="at">fill =</span> Month)) <span class="sc">+</span></span>
<span id="cb158-2"><a href="science-polish.html#cb158-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>(<span class="at">quantile_lines =</span> <span class="cn">TRUE</span>, <span class="at">quantiles =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb158-3"><a href="science-polish.html#cb158-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="03-scientific-results-polish_files/figure-html/ggridges-quantile-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>Now that we have good working code, we can easily substitute in other variables by changing the x mapping:</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="science-polish.html#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(weather_atl, <span class="fu">aes</span>(<span class="at">x =</span> temperatureHigh, <span class="at">y =</span> <span class="fu">fct_rev</span>(Month), <span class="at">fill =</span> Month)) <span class="sc">+</span></span>
<span id="cb159-2"><a href="science-polish.html#cb159-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>(<span class="at">quantile_lines =</span> <span class="cn">TRUE</span>, <span class="at">quantiles =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb159-3"><a href="science-polish.html#cb159-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="03-scientific-results-polish_files/figure-html/ggridges-quantile-temp-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>We can get extra fancy if we fill by temperature instead of filling by month. To get this to work, we need to use <code>geom_density_ridges_gradient()</code>, and we need to change the <code>fill</code> mapping to the strange looking <code>..x..</code>, which is a weird ggplot trick that tells it to use the variable we mapped to the x-axis. For whatever reason, <code>fill = temperatureHigh</code> doesn’t work 🤷:</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="science-polish.html#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(weather_atl, <span class="fu">aes</span>(<span class="at">x =</span> temperatureHigh, <span class="at">y =</span> <span class="fu">fct_rev</span>(Month), <span class="at">fill =</span> ..x..)) <span class="sc">+</span></span>
<span id="cb160-2"><a href="science-polish.html#cb160-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges_gradient</span>(<span class="at">quantile_lines =</span> <span class="cn">TRUE</span>, <span class="at">quantiles =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb160-3"><a href="science-polish.html#cb160-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_c</span>(<span class="at">option =</span> <span class="st">&quot;plasma&quot;</span>) <span class="sc">+</span></span>
<span id="cb160-4"><a href="science-polish.html#cb160-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;High temperature&quot;</span>, <span class="at">y =</span> <span class="cn">NULL</span>, <span class="at">color =</span> <span class="st">&quot;Temp&quot;</span>)</span></code></pre></div>
<p><img src="03-scientific-results-polish_files/figure-html/ggridges-gradient-temp-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>And finally, we can get <em>extra</em> fancy and show the distributions for both the high and low temperatures each month. To make this work, we need to manipulate the data a little. Right now there are two columns for high and low temperature: <code>temperatureLow</code> and <code>temperatureHigh</code>. To be able to map temperature to the x-axis and high vs. low to another aesthetic (like <code>linetype</code>), we need a column with the temperature and a column with an indicator variable for whether it is high or low. This data needs to be tidied (since right now we have a variable (high/low) encoded in the column name). We can tidy this data using <code>pivot_longer()</code> from <strong>tidyr</strong>, which was already loaded with <code>library(tidyverse)</code>. In the RStudio primers, you did this same thing with <code>gather()</code>—<code>pivot_longer()</code> is the newer version of <code>gather()</code>:</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="science-polish.html#cb161-1" aria-hidden="true" tabindex="-1"></a>weather_atl_long <span class="ot">&lt;-</span> weather_atl <span class="sc">%&gt;%</span> </span>
<span id="cb161-2"><a href="science-polish.html#cb161-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(temperatureLow, temperatureHigh),</span>
<span id="cb161-3"><a href="science-polish.html#cb161-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">&quot;temp_type&quot;</span>,</span>
<span id="cb161-4"><a href="science-polish.html#cb161-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;temp&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb161-5"><a href="science-polish.html#cb161-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Clean up the new temp_type column so that &quot;temperatureHigh&quot; becomes &quot;High&quot;, etc.</span></span>
<span id="cb161-6"><a href="science-polish.html#cb161-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">temp_type =</span> <span class="fu">recode</span>(temp_type, </span>
<span id="cb161-7"><a href="science-polish.html#cb161-7" aria-hidden="true" tabindex="-1"></a>                            <span class="at">temperatureHigh =</span> <span class="st">&quot;High&quot;</span>,</span>
<span id="cb161-8"><a href="science-polish.html#cb161-8" aria-hidden="true" tabindex="-1"></a>                            <span class="at">temperatureLow =</span> <span class="st">&quot;Low&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb161-9"><a href="science-polish.html#cb161-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># This is optional—just select a handful of columns</span></span>
<span id="cb161-10"><a href="science-polish.html#cb161-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(time, temp_type, temp, Month) </span>
<span id="cb161-11"><a href="science-polish.html#cb161-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb161-12"><a href="science-polish.html#cb161-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the first few rows</span></span>
<span id="cb161-13"><a href="science-polish.html#cb161-13" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(weather_atl_long)</span>
<span id="cb161-14"><a href="science-polish.html#cb161-14" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 6 × 4</span></span>
<span id="cb161-15"><a href="science-polish.html#cb161-15" aria-hidden="true" tabindex="-1"></a><span class="do">##   time                temp_type  temp Month  </span></span>
<span id="cb161-16"><a href="science-polish.html#cb161-16" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;dttm&gt;              &lt;chr&gt;     &lt;dbl&gt; &lt;ord&gt;  </span></span>
<span id="cb161-17"><a href="science-polish.html#cb161-17" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 2019-01-01 05:00:00 Low        50.6 January</span></span>
<span id="cb161-18"><a href="science-polish.html#cb161-18" aria-hidden="true" tabindex="-1"></a><span class="do">## 2 2019-01-01 05:00:00 High       63.9 January</span></span>
<span id="cb161-19"><a href="science-polish.html#cb161-19" aria-hidden="true" tabindex="-1"></a><span class="do">## 3 2019-01-02 05:00:00 Low        49.0 January</span></span>
<span id="cb161-20"><a href="science-polish.html#cb161-20" aria-hidden="true" tabindex="-1"></a><span class="do">## 4 2019-01-02 05:00:00 High       57.4 January</span></span>
<span id="cb161-21"><a href="science-polish.html#cb161-21" aria-hidden="true" tabindex="-1"></a><span class="do">## 5 2019-01-03 05:00:00 Low        53.1 January</span></span>
<span id="cb161-22"><a href="science-polish.html#cb161-22" aria-hidden="true" tabindex="-1"></a><span class="do">## 6 2019-01-03 05:00:00 High       55.3 January</span></span></code></pre></div>
<p>Now we have a column for the temperature (<code>temp</code>) and a column indicating if it is high or low (<code>temp_type</code>). The dataset is also twice as long (730 rows) because each day has two rows (high and low). Let’s plot it and map high/low to the <code>linetype</code> aesthetic to show high/low in the border of the plots:</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="science-polish.html#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(weather_atl_long, <span class="fu">aes</span>(<span class="at">x =</span> temp, <span class="at">y =</span> <span class="fu">fct_rev</span>(Month), </span>
<span id="cb162-2"><a href="science-polish.html#cb162-2" aria-hidden="true" tabindex="-1"></a>                             <span class="at">fill =</span> ..x.., <span class="at">linetype =</span> temp_type)) <span class="sc">+</span></span>
<span id="cb162-3"><a href="science-polish.html#cb162-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges_gradient</span>(<span class="at">quantile_lines =</span> <span class="cn">TRUE</span>, <span class="at">quantiles =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb162-4"><a href="science-polish.html#cb162-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_c</span>(<span class="at">option =</span> <span class="st">&quot;plasma&quot;</span>) <span class="sc">+</span></span>
<span id="cb162-5"><a href="science-polish.html#cb162-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;High temperature&quot;</span>, <span class="at">y =</span> <span class="cn">NULL</span>, <span class="at">color =</span> <span class="st">&quot;Temp&quot;</span>)</span></code></pre></div>
<p><img src="03-scientific-results-polish_files/figure-html/ggridges-gradient-temp-high-low-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>Super neat! We can see much wider temperature disparities during the summer, with large gaps between high and low, and relatively equal high/low temperatures during the winter.</p>
</div>
<div id="box-violin-and-rain-cloud-plots" class="section level3" number="3.5.4">
<h3><span class="header-section-number">3.5.4</span> Box, violin, and rain cloud plots</h3>
<p>Finally, we can look at the distribution of variables with box plots, violin plots, and other similar graphs. First, we’ll make a box plot of windspeed, filled by the <code>Day</code> variable we made indicating weekday:</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="science-polish.html#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(weather_atl,</span>
<span id="cb163-2"><a href="science-polish.html#cb163-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> windSpeed, <span class="at">fill =</span> Day)) <span class="sc">+</span></span>
<span id="cb163-3"><a href="science-polish.html#cb163-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="03-scientific-results-polish_files/figure-html/basic-boxplot-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>We can switch this to a violin plot by just changing the <code>geom</code> layer and mapping <code>Day</code> to the x-axis:</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="science-polish.html#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(weather_atl,</span>
<span id="cb164-2"><a href="science-polish.html#cb164-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> windSpeed, <span class="at">x =</span> Day, <span class="at">fill =</span> Day)) <span class="sc">+</span></span>
<span id="cb164-3"><a href="science-polish.html#cb164-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>()</span></code></pre></div>
<p><img src="03-scientific-results-polish_files/figure-html/basic-violin-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>With violin plots it’s typically good to overlay other geoms. We can add some jittered points for a strip plot:</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="science-polish.html#cb165-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(weather_atl,</span>
<span id="cb165-2"><a href="science-polish.html#cb165-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> windSpeed, <span class="at">x =</span> Day, <span class="at">fill =</span> Day)) <span class="sc">+</span></span>
<span id="cb165-3"><a href="science-polish.html#cb165-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>() <span class="sc">+</span></span>
<span id="cb165-4"><a href="science-polish.html#cb165-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="fl">0.5</span>, <span class="at">position =</span> <span class="fu">position_jitter</span>(<span class="at">width =</span> <span class="fl">0.1</span>)) <span class="sc">+</span></span>
<span id="cb165-5"><a href="science-polish.html#cb165-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="03-scientific-results-polish_files/figure-html/violin-strip-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>We can also add larger points for the daily averages. We’ll use a special layer for this: <code>stat_summary()</code>. It has a slightly different syntax, since we’re not actually mapping a column from the dataset. Instead, we’re feeding a column from a dataset into a function (here <code>"mean"</code>) and then plotting that result:</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="science-polish.html#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(weather_atl,</span>
<span id="cb166-2"><a href="science-polish.html#cb166-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> windSpeed, <span class="at">x =</span> Day, <span class="at">fill =</span> Day)) <span class="sc">+</span></span>
<span id="cb166-3"><a href="science-polish.html#cb166-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>() <span class="sc">+</span></span>
<span id="cb166-4"><a href="science-polish.html#cb166-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">geom =</span> <span class="st">&quot;point&quot;</span>, <span class="at">fun =</span> <span class="st">&quot;mean&quot;</span>, <span class="at">size =</span> <span class="dv">5</span>, <span class="at">color =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span></span>
<span id="cb166-5"><a href="science-polish.html#cb166-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="fl">0.5</span>, <span class="at">position =</span> <span class="fu">position_jitter</span>(<span class="at">width =</span> <span class="fl">0.1</span>)) <span class="sc">+</span></span>
<span id="cb166-6"><a href="science-polish.html#cb166-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="03-scientific-results-polish_files/figure-html/violin-strip-mean-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>We can also show the mean and confidence interval at the same time by changing the summary function:</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="science-polish.html#cb167-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(weather_atl,</span>
<span id="cb167-2"><a href="science-polish.html#cb167-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> windSpeed, <span class="at">x =</span> Day, <span class="at">fill =</span> Day)) <span class="sc">+</span></span>
<span id="cb167-3"><a href="science-polish.html#cb167-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>() <span class="sc">+</span></span>
<span id="cb167-4"><a href="science-polish.html#cb167-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">geom =</span> <span class="st">&quot;pointrange&quot;</span>, <span class="at">fun.data =</span> <span class="st">&quot;mean_se&quot;</span>, <span class="at">size =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span></span>
<span id="cb167-5"><a href="science-polish.html#cb167-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="fl">0.5</span>, <span class="at">position =</span> <span class="fu">position_jitter</span>(<span class="at">width =</span> <span class="fl">0.1</span>)) <span class="sc">+</span></span>
<span id="cb167-6"><a href="science-polish.html#cb167-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="03-scientific-results-polish_files/figure-html/violin-strip-mean-ci-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>Overlaying the points directly on top of the violins shows extra information, but it’s also really crowded and hard to read. If we use <a href="https://github.com/erocoar/gghalves">the <strong>gghalves</strong> package</a>, we can use special halved versions of some of these geoms like so:</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="science-polish.html#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(weather_atl,</span>
<span id="cb168-2"><a href="science-polish.html#cb168-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_rev</span>(Day), <span class="at">y =</span> temperatureHigh)) <span class="sc">+</span></span>
<span id="cb168-3"><a href="science-polish.html#cb168-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_half_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Day), <span class="at">side =</span> <span class="st">&quot;l&quot;</span>, <span class="at">size =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb168-4"><a href="science-polish.html#cb168-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_half_boxplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Day), <span class="at">side =</span> <span class="st">&quot;r&quot;</span>) <span class="sc">+</span></span>
<span id="cb168-5"><a href="science-polish.html#cb168-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="cn">FALSE</span>, <span class="at">fill =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="03-scientific-results-polish_files/figure-html/gghalves-point-boxplot-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>Note the <code>side</code> argument for specifying which half of the column the geom goes. We can also use <code>geom_half_violin()</code>:</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="science-polish.html#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(weather_atl,</span>
<span id="cb169-2"><a href="science-polish.html#cb169-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_rev</span>(Day), <span class="at">y =</span> temperatureHigh)) <span class="sc">+</span></span>
<span id="cb169-3"><a href="science-polish.html#cb169-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_half_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Day), <span class="at">side =</span> <span class="st">&quot;l&quot;</span>, <span class="at">size =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb169-4"><a href="science-polish.html#cb169-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_half_violin</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Day), <span class="at">side =</span> <span class="st">&quot;r&quot;</span>) <span class="sc">+</span></span>
<span id="cb169-5"><a href="science-polish.html#cb169-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="cn">FALSE</span>, <span class="at">fill =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="03-scientific-results-polish_files/figure-html/gghalves-point-violon-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>If we flip the plot, we can make a <a href="https://micahallen.org/2018/03/15/introducing-raincloud-plots/">rain cloud plot</a>:</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="science-polish.html#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(weather_atl,</span>
<span id="cb170-2"><a href="science-polish.html#cb170-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_rev</span>(Day), <span class="at">y =</span> temperatureHigh)) <span class="sc">+</span></span>
<span id="cb170-3"><a href="science-polish.html#cb170-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_half_boxplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Day), <span class="at">side =</span> <span class="st">&quot;l&quot;</span>, <span class="at">width =</span> <span class="fl">0.5</span>, <span class="at">nudge =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb170-4"><a href="science-polish.html#cb170-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_half_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Day), <span class="at">side =</span> <span class="st">&quot;l&quot;</span>, <span class="at">size =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb170-5"><a href="science-polish.html#cb170-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_half_violin</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Day), <span class="at">side =</span> <span class="st">&quot;r&quot;</span>) <span class="sc">+</span></span>
<span id="cb170-6"><a href="science-polish.html#cb170-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="cn">FALSE</span>, <span class="at">fill =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb170-7"><a href="science-polish.html#cb170-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="03-scientific-results-polish_files/figure-html/gghalves-rain-cloud-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>Neat!</p>
</div>
</div>
<div id="building-a-theme" class="section level2" number="3.6">
<h2><span class="header-section-number">3.6</span> Building a <code>theme()</code></h2>
<p>Consider this example using <code>gapminder</code>:</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="science-polish.html#cb171-1" aria-hidden="true" tabindex="-1"></a>gapminder_filtered <span class="ot">&lt;-</span> gapminder <span class="sc">%&gt;%</span></span>
<span id="cb171-2"><a href="science-polish.html#cb171-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">&gt;</span> <span class="dv">2000</span>)</span>
<span id="cb171-3"><a href="science-polish.html#cb171-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-4"><a href="science-polish.html#cb171-4" aria-hidden="true" tabindex="-1"></a>base_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(</span>
<span id="cb171-5"><a href="science-polish.html#cb171-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> gapminder_filtered,</span>
<span id="cb171-6"><a href="science-polish.html#cb171-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb171-7"><a href="science-polish.html#cb171-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> gdpPercap, <span class="at">y =</span> lifeExp,</span>
<span id="cb171-8"><a href="science-polish.html#cb171-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> continent, <span class="at">size =</span> pop</span>
<span id="cb171-9"><a href="science-polish.html#cb171-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb171-10"><a href="science-polish.html#cb171-10" aria-hidden="true" tabindex="-1"></a>) <span class="sc">+</span></span>
<span id="cb171-11"><a href="science-polish.html#cb171-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb171-12"><a href="science-polish.html#cb171-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Use dollars, and get rid of the cents part (i.e. $300 instead of $300.00)</span></span>
<span id="cb171-13"><a href="science-polish.html#cb171-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>(<span class="at">labels =</span> <span class="fu">dollar_format</span>(<span class="at">accuracy =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb171-14"><a href="science-polish.html#cb171-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Format with commas</span></span>
<span id="cb171-15"><a href="science-polish.html#cb171-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size_continuous</span>(<span class="at">labels =</span> comma) <span class="sc">+</span></span>
<span id="cb171-16"><a href="science-polish.html#cb171-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Use viridis</span></span>
<span id="cb171-17"><a href="science-polish.html#cb171-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis_d</span>(<span class="at">option =</span> <span class="st">&quot;plasma&quot;</span>, <span class="at">end =</span> <span class="fl">0.9</span>) <span class="sc">+</span></span>
<span id="cb171-18"><a href="science-polish.html#cb171-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb171-19"><a href="science-polish.html#cb171-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;GDP per capita&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Life expectancy&quot;</span>,</span>
<span id="cb171-20"><a href="science-polish.html#cb171-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">&quot;Continent&quot;</span>, <span class="at">size =</span> <span class="st">&quot;Population&quot;</span>,</span>
<span id="cb171-21"><a href="science-polish.html#cb171-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Here&#39;s a cool title&quot;</span>,</span>
<span id="cb171-22"><a href="science-polish.html#cb171-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;And here&#39;s a neat subtitle&quot;</span>,</span>
<span id="cb171-23"><a href="science-polish.html#cb171-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Source: The Gapminder Project&quot;</span></span>
<span id="cb171-24"><a href="science-polish.html#cb171-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb171-25"><a href="science-polish.html#cb171-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(year))</span>
<span id="cb171-26"><a href="science-polish.html#cb171-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-27"><a href="science-polish.html#cb171-27" aria-hidden="true" tabindex="-1"></a>base_plot</span></code></pre></div>
<p><img src="03-scientific-results-polish_files/figure-html/gapminder-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>Now we have <code>base_plot</code> to work with. Here’s what it looks like with <code>theme_minimal()</code> applied to it:</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="science-polish.html#cb172-1" aria-hidden="true" tabindex="-1"></a>base_plot <span class="sc">+</span></span>
<span id="cb172-2"><a href="science-polish.html#cb172-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="03-scientific-results-polish_files/figure-html/base-minimal-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>That gets rid of the grey background and is a good start, but we can make lots of improvements. First let’s deal with the gridlines. There are too many. We can get rid of the minor gridlines with by setting them to <code>element_blank()</code>:</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="science-polish.html#cb173-1" aria-hidden="true" tabindex="-1"></a>base_plot <span class="sc">+</span></span>
<span id="cb173-2"><a href="science-polish.html#cb173-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb173-3"><a href="science-polish.html#cb173-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>())</span></code></pre></div>
<p><img src="03-scientific-results-polish_files/figure-html/theme1-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>Next let’s add some typographic contrast. We’ll use Roboto Condensed Regular as the base font. Before trying this, make sure you do the following:</p>
<p><strong>On macOS</strong>:</p>
<ul>
<li>Run <code>capabilities()</code> in your console and verify that <code>TRUE</code> shows up under <code>cairo</code></li>
<li>If not, download and install <a href="https://www.xquartz.org/">XQuartz</a></li>
</ul>
<p><strong>On Windows</strong>:</p>
<ul>
<li><p>Run <code>windowsFonts()</code> in your console and you’ll see a list of all the fonts you can use with R. It’s not a very big list.</p>
<pre class="text"><code>#&gt; $serif
#&gt; [1] &quot;TT Times New Roman&quot;
#&gt;
#&gt; $sans
#&gt; [1] &quot;TT Arial&quot;
#&gt; 
#&gt; $mono
#&gt; [1] &quot;TT Courier New&quot;</code></pre>
<p>You can add Roboto Condensed to your current R session by running this in your console:</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="science-polish.html#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="fu">windowsFonts</span>(<span class="st">`</span><span class="at">Roboto Condensed</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">windowsFont</span>(<span class="st">&quot;Roboto Condensed&quot;</span>))</span></code></pre></div>
<p>Now if you run <code>windowsFonts()</code>, you’ll see it in the list:</p>
<pre class="text"><code>#&gt; $serif
#&gt; [1] &quot;TT Times New Roman&quot;
#&gt;
#&gt; $sans
#&gt; [1] &quot;TT Arial&quot;
#&gt; 
#&gt; $mono
#&gt; [1] &quot;TT Courier New&quot;
#&gt;
#&gt; $`Roboto Condensed`
#&gt; [1] &quot;Roboto Condensed&quot;</code></pre>
<p>This only takes effect for your current R session, so if you are knitting a document or if you ever plan on closing RStudio, you’ll need to incorporate this font creation code into your script.</p></li>
</ul>
<p>We’ll use the font as the <code>base_family</code> argument. Note how I make it bold with <code>face</code> and change the size with <code>rel()</code>. Instead of manually setting some arbitrary size, I use <code>rel()</code> to resize the text in relation to the <code>base_size</code> argument. Using <code>rel(1.7)</code> means 1.7 × <code>base_size</code>, or 20.4 That will rescale according to whatever <code>base_size</code> is—if I shrink it to <code>base_size = 8</code>, the title will scale down accordingly.</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="science-polish.html#cb177-1" aria-hidden="true" tabindex="-1"></a>plot_with_good_typography <span class="ot">&lt;-</span> base_plot <span class="sc">+</span></span>
<span id="cb177-2"><a href="science-polish.html#cb177-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_family =</span> <span class="st">&quot;Roboto Condensed&quot;</span>, <span class="at">base_size =</span> <span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb177-3"><a href="science-polish.html#cb177-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb177-4"><a href="science-polish.html#cb177-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb177-5"><a href="science-polish.html#cb177-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Bold, bigger title</span></span>
<span id="cb177-6"><a href="science-polish.html#cb177-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.7</span>)),</span>
<span id="cb177-7"><a href="science-polish.html#cb177-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Plain, slightly bigger subtitle that is grey</span></span>
<span id="cb177-8"><a href="science-polish.html#cb177-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;plain&quot;</span>, <span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.3</span>), <span class="at">color =</span> <span class="st">&quot;grey70&quot;</span>),</span>
<span id="cb177-9"><a href="science-polish.html#cb177-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Italic, smaller, grey caption that is left-aligned</span></span>
<span id="cb177-10"><a href="science-polish.html#cb177-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.caption =</span> <span class="fu">element_text</span>(</span>
<span id="cb177-11"><a href="science-polish.html#cb177-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">face =</span> <span class="st">&quot;italic&quot;</span>, <span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">0.7</span>),</span>
<span id="cb177-12"><a href="science-polish.html#cb177-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> <span class="st">&quot;grey70&quot;</span>, <span class="at">hjust =</span> <span class="dv">0</span></span>
<span id="cb177-13"><a href="science-polish.html#cb177-13" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb177-14"><a href="science-polish.html#cb177-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Bold legend titles</span></span>
<span id="cb177-15"><a href="science-polish.html#cb177-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>),</span>
<span id="cb177-16"><a href="science-polish.html#cb177-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Bold, slightly larger facet titles that are left-aligned for the sake of repetition</span></span>
<span id="cb177-17"><a href="science-polish.html#cb177-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.1</span>), <span class="at">hjust =</span> <span class="dv">0</span>),</span>
<span id="cb177-18"><a href="science-polish.html#cb177-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Bold axis titles</span></span>
<span id="cb177-19"><a href="science-polish.html#cb177-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>),</span>
<span id="cb177-20"><a href="science-polish.html#cb177-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add some space above the x-axis title and make it left-aligned</span></span>
<span id="cb177-21"><a href="science-polish.html#cb177-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">t =</span> <span class="dv">10</span>), <span class="at">hjust =</span> <span class="dv">0</span>),</span>
<span id="cb177-22"><a href="science-polish.html#cb177-22" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add some space to the right of the y-axis title and make it top-aligned</span></span>
<span id="cb177-23"><a href="science-polish.html#cb177-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">r =</span> <span class="dv">10</span>), <span class="at">hjust =</span> <span class="dv">1</span>)</span>
<span id="cb177-24"><a href="science-polish.html#cb177-24" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb177-25"><a href="science-polish.html#cb177-25" aria-hidden="true" tabindex="-1"></a>plot_with_good_typography</span></code></pre></div>
<p><img src="03-scientific-results-polish_files/figure-html/theme2-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>Whoa. That gets us most of the way there! We have good contrast with the typography, with the strong bold and the lighter regular font (<strong>contrast</strong>). Everything is aligned left (<strong>alignment</strong> and <strong>repetition</strong>). By moving the axis titles a little bit away from the labels, we’ve enhanced proximity, since they were too close together (<strong>proximity</strong>). We repeat grey in both the caption and the subtitle (<strong>repetition</strong>).</p>
<p>The only thing I don’t like is that the 2002 isn’t quite aligned with the title and subtitle. This is because the facet labels are in boxes along the top of each plot, and in some themes (like <code>theme_grey()</code> and <code>theme_bw()</code>) those facet labels have grey backgrounds. We can turn off the margin in those boxes, or we can add a background, which will then be perfectly aligned with the title and subtitle.</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="science-polish.html#cb178-1" aria-hidden="true" tabindex="-1"></a>plot_with_good_typography <span class="sc">+</span></span>
<span id="cb178-2"><a href="science-polish.html#cb178-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add a light grey background to the facet titles, with no borders</span></span>
<span id="cb178-3"><a href="science-polish.html#cb178-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb178-4"><a href="science-polish.html#cb178-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">&quot;grey90&quot;</span>, <span class="at">color =</span> <span class="cn">NA</span>),</span>
<span id="cb178-5"><a href="science-polish.html#cb178-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add a thin grey border around all the plots to tie in the facet titles</span></span>
<span id="cb178-6"><a href="science-polish.html#cb178-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">color =</span> <span class="st">&quot;grey90&quot;</span>, <span class="at">fill =</span> <span class="cn">NA</span>)</span>
<span id="cb178-7"><a href="science-polish.html#cb178-7" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="03-scientific-results-polish_files/figure-html/theme3-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>That looks great!</p>
<p>To save ourselves time in the future, we can store this whole thing as an object that we can then reuse on other plots:</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="science-polish.html#cb179-1" aria-hidden="true" tabindex="-1"></a>my_pretty_theme <span class="ot">&lt;-</span> <span class="fu">theme_minimal</span>(<span class="at">base_family =</span> <span class="st">&quot;Roboto Condensed&quot;</span>, <span class="at">base_size =</span> <span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb179-2"><a href="science-polish.html#cb179-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb179-3"><a href="science-polish.html#cb179-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb179-4"><a href="science-polish.html#cb179-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Bold, bigger title</span></span>
<span id="cb179-5"><a href="science-polish.html#cb179-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.7</span>)),</span>
<span id="cb179-6"><a href="science-polish.html#cb179-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Plain, slightly bigger subtitle that is grey</span></span>
<span id="cb179-7"><a href="science-polish.html#cb179-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;plain&quot;</span>, <span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.3</span>), <span class="at">color =</span> <span class="st">&quot;grey70&quot;</span>),</span>
<span id="cb179-8"><a href="science-polish.html#cb179-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Italic, smaller, grey caption that is left-aligned</span></span>
<span id="cb179-9"><a href="science-polish.html#cb179-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.caption =</span> <span class="fu">element_text</span>(</span>
<span id="cb179-10"><a href="science-polish.html#cb179-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">face =</span> <span class="st">&quot;italic&quot;</span>, <span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">0.7</span>),</span>
<span id="cb179-11"><a href="science-polish.html#cb179-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> <span class="st">&quot;grey70&quot;</span>, <span class="at">hjust =</span> <span class="dv">0</span></span>
<span id="cb179-12"><a href="science-polish.html#cb179-12" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb179-13"><a href="science-polish.html#cb179-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Bold legend titles</span></span>
<span id="cb179-14"><a href="science-polish.html#cb179-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>),</span>
<span id="cb179-15"><a href="science-polish.html#cb179-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Bold, slightly larger facet titles that are left-aligned for the sake of repetition</span></span>
<span id="cb179-16"><a href="science-polish.html#cb179-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.1</span>), <span class="at">hjust =</span> <span class="dv">0</span>),</span>
<span id="cb179-17"><a href="science-polish.html#cb179-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Bold axis titles</span></span>
<span id="cb179-18"><a href="science-polish.html#cb179-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>),</span>
<span id="cb179-19"><a href="science-polish.html#cb179-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add some space above the x-axis title and make it left-aligned</span></span>
<span id="cb179-20"><a href="science-polish.html#cb179-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">t =</span> <span class="dv">10</span>), <span class="at">hjust =</span> <span class="dv">0</span>),</span>
<span id="cb179-21"><a href="science-polish.html#cb179-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add some space to the right of the y-axis title and make it top-aligned</span></span>
<span id="cb179-22"><a href="science-polish.html#cb179-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">r =</span> <span class="dv">10</span>), <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb179-23"><a href="science-polish.html#cb179-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add a light grey background to the facet titles, with no borders</span></span>
<span id="cb179-24"><a href="science-polish.html#cb179-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">&quot;grey90&quot;</span>, <span class="at">color =</span> <span class="cn">NA</span>),</span>
<span id="cb179-25"><a href="science-polish.html#cb179-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add a thin grey border around all the plots to tie in the facet titles</span></span>
<span id="cb179-26"><a href="science-polish.html#cb179-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">color =</span> <span class="st">&quot;grey90&quot;</span>, <span class="at">fill =</span> <span class="cn">NA</span>)</span>
<span id="cb179-27"><a href="science-polish.html#cb179-27" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Now we can use it on any plot.</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="science-polish.html#cb180-1" aria-hidden="true" tabindex="-1"></a>mpg_example <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(</span>
<span id="cb180-2"><a href="science-polish.html#cb180-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> mpg,</span>
<span id="cb180-3"><a href="science-polish.html#cb180-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy, <span class="at">color =</span> class)</span>
<span id="cb180-4"><a href="science-polish.html#cb180-4" aria-hidden="true" tabindex="-1"></a>) <span class="sc">+</span></span>
<span id="cb180-5"><a href="science-polish.html#cb180-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb180-6"><a href="science-polish.html#cb180-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis_d</span>() <span class="sc">+</span></span>
<span id="cb180-7"><a href="science-polish.html#cb180-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(drv)) <span class="sc">+</span></span>
<span id="cb180-8"><a href="science-polish.html#cb180-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb180-9"><a href="science-polish.html#cb180-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Displacement&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Highway MPG&quot;</span>, <span class="at">color =</span> <span class="st">&quot;Car class&quot;</span>,</span>
<span id="cb180-10"><a href="science-polish.html#cb180-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Heavier cars get worse mileage&quot;</span>,</span>
<span id="cb180-11"><a href="science-polish.html#cb180-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Except two-seaters?&quot;</span>,</span>
<span id="cb180-12"><a href="science-polish.html#cb180-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Here&#39;s a caption&quot;</span></span>
<span id="cb180-13"><a href="science-polish.html#cb180-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb180-14"><a href="science-polish.html#cb180-14" aria-hidden="true" tabindex="-1"></a>  my_pretty_theme</span>
<span id="cb180-15"><a href="science-polish.html#cb180-15" aria-hidden="true" tabindex="-1"></a>mpg_example</span></code></pre></div>
<p><img src="03-scientific-results-polish_files/figure-html/mpg-example-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>Super neat!</p>
</div>
<div id="annotations" class="section level2" number="3.7">
<h2><span class="header-section-number">3.7</span> Annotations</h2>
<p>For this example, we’re again going to use cross-national data from the <a href="https://data.worldbank.org/">World Bank’s Open Data portal</a>. We’ll download the data with the <a href="https://cran.r-project.org/web/packages/WDI/index.html"><strong>WDI</strong> package</a>.</p>
<ul>
<li><a href="https://data-mining-viz.netlify.app/data/wdi_co2.csv"><code>wdi_co2.csv</code></a></li>
</ul>
<div id="load-data-1" class="section level3" number="3.7.1">
<h3><span class="header-section-number">3.7.1</span> Load data</h3>
<p>First, we load the libraries we’ll be using:</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="science-polish.html#cb181-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)  <span class="co"># For ggplot, dplyr, and friends</span></span>
<span id="cb181-2"><a href="science-polish.html#cb181-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(WDI)        <span class="co"># Get data from the World Bank</span></span>
<span id="cb181-3"><a href="science-polish.html#cb181-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggrepel)    <span class="co"># For non-overlapping labels</span></span>
<span id="cb181-4"><a href="science-polish.html#cb181-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb181-5"><a href="science-polish.html#cb181-5" aria-hidden="true" tabindex="-1"></a><span class="co"># You need to install ggtext from GitHub. Follow the instructions at </span></span>
<span id="cb181-6"><a href="science-polish.html#cb181-6" aria-hidden="true" tabindex="-1"></a><span class="co"># https://github.com/wilkelab/ggtext</span></span>
<span id="cb181-7"><a href="science-polish.html#cb181-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggtext)     <span class="co"># For fancier text handling</span></span></code></pre></div>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="science-polish.html#cb182-1" aria-hidden="true" tabindex="-1"></a>indicators <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;SP.POP.TOTL&quot;</span>,     <span class="co"># Population</span></span>
<span id="cb182-2"><a href="science-polish.html#cb182-2" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;EN.ATM.CO2E.PC&quot;</span>,  <span class="co"># CO2 emissions</span></span>
<span id="cb182-3"><a href="science-polish.html#cb182-3" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;NY.GDP.PCAP.KD&quot;</span>)  <span class="co"># GDP per capita</span></span>
<span id="cb182-4"><a href="science-polish.html#cb182-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-5"><a href="science-polish.html#cb182-5" aria-hidden="true" tabindex="-1"></a>wdi_co2_raw <span class="ot">&lt;-</span> <span class="fu">WDI</span>(<span class="at">country =</span> <span class="st">&quot;all&quot;</span>, indicators, <span class="at">extra =</span> <span class="cn">TRUE</span>, </span>
<span id="cb182-6"><a href="science-polish.html#cb182-6" aria-hidden="true" tabindex="-1"></a>                   <span class="at">start =</span> <span class="dv">1995</span>, <span class="at">end =</span> <span class="dv">2015</span>)</span></code></pre></div>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="science-polish.html#cb183-1" aria-hidden="true" tabindex="-1"></a>wdi_co2_raw <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;wdi_co2.csv&quot;</span>))</span></code></pre></div>
<p>Then we clean the data by removing non-country countries and renaming some of the columns.</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="science-polish.html#cb184-1" aria-hidden="true" tabindex="-1"></a>wdi_clean <span class="ot">&lt;-</span> wdi_co2_raw <span class="sc">%&gt;%</span> </span>
<span id="cb184-2"><a href="science-polish.html#cb184-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(region <span class="sc">!=</span> <span class="st">&quot;Aggregates&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb184-3"><a href="science-polish.html#cb184-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(iso2c, iso3c, country, year, </span>
<span id="cb184-4"><a href="science-polish.html#cb184-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">population =</span> SP.POP.TOTL,</span>
<span id="cb184-5"><a href="science-polish.html#cb184-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">co2_emissions =</span> EN.ATM.CO2E.PC, </span>
<span id="cb184-6"><a href="science-polish.html#cb184-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">gdp_per_cap =</span> NY.GDP.PCAP.KD, </span>
<span id="cb184-7"><a href="science-polish.html#cb184-7" aria-hidden="true" tabindex="-1"></a>         region, income)</span></code></pre></div>
</div>
<div id="clean-and-reshape-data" class="section level3" number="3.7.2">
<h3><span class="header-section-number">3.7.2</span> Clean and reshape data</h3>
<p>Next we’ll do some substantial filtering and reshaping so that we can end up with the rankings of CO<sub>2</sub> emissions in 1995 and 2014. I annotate as much as possible below so you can see what’s happening in each step.</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="science-polish.html#cb185-1" aria-hidden="true" tabindex="-1"></a>co2_rankings <span class="ot">&lt;-</span> wdi_clean <span class="sc">%&gt;%</span> </span>
<span id="cb185-2"><a href="science-polish.html#cb185-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Get rid of smaller countries</span></span>
<span id="cb185-3"><a href="science-polish.html#cb185-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(population <span class="sc">&gt;</span> <span class="dv">200000</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb185-4"><a href="science-polish.html#cb185-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Only look at two years</span></span>
<span id="cb185-5"><a href="science-polish.html#cb185-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1995</span>, <span class="dv">2014</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb185-6"><a href="science-polish.html#cb185-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Get rid of all the rows that have missing values in co2_emissions</span></span>
<span id="cb185-7"><a href="science-polish.html#cb185-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(co2_emissions) <span class="sc">%&gt;%</span> </span>
<span id="cb185-8"><a href="science-polish.html#cb185-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Look at each year individually and rank countries based on their emissions that year</span></span>
<span id="cb185-9"><a href="science-polish.html#cb185-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span> </span>
<span id="cb185-10"><a href="science-polish.html#cb185-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ranking =</span> <span class="fu">rank</span>(co2_emissions)) <span class="sc">%&gt;%</span> </span>
<span id="cb185-11"><a href="science-polish.html#cb185-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb185-12"><a href="science-polish.html#cb185-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Only select a handful of columns, mostly just the newly created &quot;ranking&quot;</span></span>
<span id="cb185-13"><a href="science-polish.html#cb185-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># column and some country identifiers</span></span>
<span id="cb185-14"><a href="science-polish.html#cb185-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(iso3c, country, year, region, income, ranking) <span class="sc">%&gt;%</span> </span>
<span id="cb185-15"><a href="science-polish.html#cb185-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Right now the data is tidy and long, but we want to widen it and create</span></span>
<span id="cb185-16"><a href="science-polish.html#cb185-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># separate columns for emissions in 1995 and in 2014. pivot_wider() will make</span></span>
<span id="cb185-17"><a href="science-polish.html#cb185-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># new columns based on the existing &quot;year&quot; column (that&#39;s what `names_from`</span></span>
<span id="cb185-18"><a href="science-polish.html#cb185-18" aria-hidden="true" tabindex="-1"></a>  <span class="co"># does), and it will add &quot;rank_&quot; as the prefix, so that the new columns will</span></span>
<span id="cb185-19"><a href="science-polish.html#cb185-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># be &quot;rank_1995&quot; and &quot;rank_2014&quot;. The values that go in those new columns will</span></span>
<span id="cb185-20"><a href="science-polish.html#cb185-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># come from the existing &quot;ranking&quot; column</span></span>
<span id="cb185-21"><a href="science-polish.html#cb185-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> year, <span class="at">names_prefix =</span> <span class="st">&quot;rank_&quot;</span>, <span class="at">values_from =</span> ranking) <span class="sc">%&gt;%</span> </span>
<span id="cb185-22"><a href="science-polish.html#cb185-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Find the difference in ranking between 2014 and 1995</span></span>
<span id="cb185-23"><a href="science-polish.html#cb185-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rank_diff =</span> rank_2014 <span class="sc">-</span> rank_1995) <span class="sc">%&gt;%</span> </span>
<span id="cb185-24"><a href="science-polish.html#cb185-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Remove all rows where there&#39;s a missing value in the rank_diff column</span></span>
<span id="cb185-25"><a href="science-polish.html#cb185-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(rank_diff) <span class="sc">%&gt;%</span> </span>
<span id="cb185-26"><a href="science-polish.html#cb185-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make an indicator variable that is true of the absolute value of the</span></span>
<span id="cb185-27"><a href="science-polish.html#cb185-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># difference in rankings is greater than 25. 25 is arbitrary here—that just</span></span>
<span id="cb185-28"><a href="science-polish.html#cb185-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># felt like a big change in rankings</span></span>
<span id="cb185-29"><a href="science-polish.html#cb185-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">big_change =</span> <span class="fu">ifelse</span>(<span class="fu">abs</span>(rank_diff) <span class="sc">&gt;=</span> <span class="dv">25</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb185-30"><a href="science-polish.html#cb185-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make another indicator variable that indicates if the rank improved by a</span></span>
<span id="cb185-31"><a href="science-polish.html#cb185-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># lot, worsened by a lot, or didn&#39;t change much. We use the case_when()</span></span>
<span id="cb185-32"><a href="science-polish.html#cb185-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># function, which is like a fancy version of ifelse() that takes multiple</span></span>
<span id="cb185-33"><a href="science-polish.html#cb185-33" aria-hidden="true" tabindex="-1"></a>  <span class="co"># conditions. This is how it generally works:</span></span>
<span id="cb185-34"><a href="science-polish.html#cb185-34" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb185-35"><a href="science-polish.html#cb185-35" aria-hidden="true" tabindex="-1"></a>  <span class="co"># case_when(</span></span>
<span id="cb185-36"><a href="science-polish.html#cb185-36" aria-hidden="true" tabindex="-1"></a>  <span class="co">#  some_test ~ value_if_true,</span></span>
<span id="cb185-37"><a href="science-polish.html#cb185-37" aria-hidden="true" tabindex="-1"></a>  <span class="co">#  some_other_test ~ value_if_true,</span></span>
<span id="cb185-38"><a href="science-polish.html#cb185-38" aria-hidden="true" tabindex="-1"></a>  <span class="co">#  TRUE ~ value_otherwise</span></span>
<span id="cb185-39"><a href="science-polish.html#cb185-39" aria-hidden="true" tabindex="-1"></a>  <span class="co">#)</span></span>
<span id="cb185-40"><a href="science-polish.html#cb185-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">better_big_change =</span> <span class="fu">case_when</span>(</span>
<span id="cb185-41"><a href="science-polish.html#cb185-41" aria-hidden="true" tabindex="-1"></a>    rank_diff <span class="sc">&lt;=</span> <span class="sc">-</span><span class="dv">25</span> <span class="sc">~</span> <span class="st">&quot;Rank improved&quot;</span>,</span>
<span id="cb185-42"><a href="science-polish.html#cb185-42" aria-hidden="true" tabindex="-1"></a>    rank_diff <span class="sc">&gt;=</span> <span class="dv">25</span> <span class="sc">~</span> <span class="st">&quot;Rank worsened&quot;</span>,</span>
<span id="cb185-43"><a href="science-polish.html#cb185-43" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">&quot;Rank changed a little&quot;</span></span>
<span id="cb185-44"><a href="science-polish.html#cb185-44" aria-hidden="true" tabindex="-1"></a>  ))</span></code></pre></div>
<p>Here’s what that reshaped data looked like before:</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="science-polish.html#cb186-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(wdi_clean)</span>
<span id="cb186-2"><a href="science-polish.html#cb186-2" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 6 × 9</span></span>
<span id="cb186-3"><a href="science-polish.html#cb186-3" aria-hidden="true" tabindex="-1"></a><span class="do">##   iso2c iso3c country  year population co2_emissions gdp_per_cap region   income</span></span>
<span id="cb186-4"><a href="science-polish.html#cb186-4" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;   &lt;dbl&gt;      &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt; </span></span>
<span id="cb186-5"><a href="science-polish.html#cb186-5" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 AD    AND   Andorra  1995      63850          6.66      32577. Europe … High …</span></span>
<span id="cb186-6"><a href="science-polish.html#cb186-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 2 AD    AND   Andorra  1996      64360          7.07      33822. Europe … High …</span></span>
<span id="cb186-7"><a href="science-polish.html#cb186-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 3 AD    AND   Andorra  1997      64327          7.24      36907. Europe … High …</span></span>
<span id="cb186-8"><a href="science-polish.html#cb186-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 4 AD    AND   Andorra  1999      64370          7.98      39621. Europe … High …</span></span>
<span id="cb186-9"><a href="science-polish.html#cb186-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 5 AD    AND   Andorra  2000      65390          8.02      40379. Europe … High …</span></span>
<span id="cb186-10"><a href="science-polish.html#cb186-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 6 AD    AND   Andorra  2001      67341          7.79      42393. Europe … High …</span></span></code></pre></div>
<p>And here’s what it looks like now:</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="science-polish.html#cb187-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(co2_rankings)</span>
<span id="cb187-2"><a href="science-polish.html#cb187-2" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 6 × 9</span></span>
<span id="cb187-3"><a href="science-polish.html#cb187-3" aria-hidden="true" tabindex="-1"></a><span class="do">##   iso3c country           region income rank_1995 rank_2014 rank_diff big_change</span></span>
<span id="cb187-4"><a href="science-polish.html#cb187-4" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;chr&gt; &lt;chr&gt;             &lt;chr&gt;  &lt;chr&gt;      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt; &lt;lgl&gt;     </span></span>
<span id="cb187-5"><a href="science-polish.html#cb187-5" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 ARE   United Arab Emir… Middl… High …       170       176         6 FALSE     </span></span>
<span id="cb187-6"><a href="science-polish.html#cb187-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 2 AFG   Afghanistan       South… Low i…         9        21        12 FALSE     </span></span>
<span id="cb187-7"><a href="science-polish.html#cb187-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 3 ALB   Albania           Europ… Upper…        54        79        25 TRUE      </span></span>
<span id="cb187-8"><a href="science-polish.html#cb187-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 4 ARM   Armenia           Europ… Upper…        71        77         6 FALSE     </span></span>
<span id="cb187-9"><a href="science-polish.html#cb187-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 5 AGO   Angola            Sub-S… Lower…        59        69        10 FALSE     </span></span>
<span id="cb187-10"><a href="science-polish.html#cb187-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 6 ARG   Argentina         Latin… Upper…       104       121        17 FALSE     </span></span>
<span id="cb187-11"><a href="science-polish.html#cb187-11" aria-hidden="true" tabindex="-1"></a><span class="do">## # … with 1 more variable: better_big_change &lt;chr&gt;</span></span></code></pre></div>
</div>
<div id="plot-the-data-and-annotate" class="section level3" number="3.7.3">
<h3><span class="header-section-number">3.7.3</span> Plot the data and annotate</h3>
<p>I use IBM Plex Sans in this plot. You can <a href="https://fonts.google.com/specimen/IBM+Plex+Sans">download it from Google Fonts</a>.</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="science-polish.html#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="co"># These three functions make it so all geoms that use text, label, and</span></span>
<span id="cb188-2"><a href="science-polish.html#cb188-2" aria-hidden="true" tabindex="-1"></a><span class="co"># label_repel will use IBM Plex Sans as the font. Those layers are *not*</span></span>
<span id="cb188-3"><a href="science-polish.html#cb188-3" aria-hidden="true" tabindex="-1"></a><span class="co"># influenced by whatever you include in the base_family argument in something</span></span>
<span id="cb188-4"><a href="science-polish.html#cb188-4" aria-hidden="true" tabindex="-1"></a><span class="co"># like theme_bw(), so ordinarily you&#39;d need to specify the font in each</span></span>
<span id="cb188-5"><a href="science-polish.html#cb188-5" aria-hidden="true" tabindex="-1"></a><span class="co"># individual annotate(geom = &quot;text&quot;) layer or geom_label() layer, and that&#39;s</span></span>
<span id="cb188-6"><a href="science-polish.html#cb188-6" aria-hidden="true" tabindex="-1"></a><span class="co"># tedious! This removes that tediousness.</span></span>
<span id="cb188-7"><a href="science-polish.html#cb188-7" aria-hidden="true" tabindex="-1"></a><span class="fu">update_geom_defaults</span>(<span class="st">&quot;text&quot;</span>, <span class="fu">list</span>(<span class="at">family =</span> <span class="st">&quot;IBM Plex Sans&quot;</span>))</span>
<span id="cb188-8"><a href="science-polish.html#cb188-8" aria-hidden="true" tabindex="-1"></a><span class="fu">update_geom_defaults</span>(<span class="st">&quot;label&quot;</span>, <span class="fu">list</span>(<span class="at">family =</span> <span class="st">&quot;IBM Plex Sans&quot;</span>))</span>
<span id="cb188-9"><a href="science-polish.html#cb188-9" aria-hidden="true" tabindex="-1"></a><span class="fu">update_geom_defaults</span>(<span class="st">&quot;label_repel&quot;</span>, <span class="fu">list</span>(<span class="at">family =</span> <span class="st">&quot;IBM Plex Sans&quot;</span>))</span>
<span id="cb188-10"><a href="science-polish.html#cb188-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-11"><a href="science-polish.html#cb188-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(co2_rankings,</span>
<span id="cb188-12"><a href="science-polish.html#cb188-12" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> rank_1995, <span class="at">y =</span> rank_2014)) <span class="sc">+</span></span>
<span id="cb188-13"><a href="science-polish.html#cb188-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add a reference line that goes from the bottom corner to the top corner</span></span>
<span id="cb188-14"><a href="science-polish.html#cb188-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">&quot;segment&quot;</span>, <span class="at">x =</span> <span class="dv">0</span>, <span class="at">xend =</span> <span class="dv">172</span>, <span class="at">y =</span> <span class="dv">0</span>, <span class="at">yend =</span> <span class="dv">178</span>) <span class="sc">+</span></span>
<span id="cb188-15"><a href="science-polish.html#cb188-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add points and color them by the type of change in rankings</span></span>
<span id="cb188-16"><a href="science-polish.html#cb188-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> better_big_change)) <span class="sc">+</span></span>
<span id="cb188-17"><a href="science-polish.html#cb188-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add repelled labels. Only use data where big_change is TRUE. Fill them by</span></span>
<span id="cb188-18"><a href="science-polish.html#cb188-18" aria-hidden="true" tabindex="-1"></a>  <span class="co"># the type of change (so they match the color in geom_point() above) and use</span></span>
<span id="cb188-19"><a href="science-polish.html#cb188-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># white text</span></span>
<span id="cb188-20"><a href="science-polish.html#cb188-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_label_repel</span>(<span class="at">data =</span> <span class="fu">filter</span>(co2_rankings, big_change <span class="sc">==</span> <span class="cn">TRUE</span>),</span>
<span id="cb188-21"><a href="science-polish.html#cb188-21" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">aes</span>(<span class="at">label =</span> country, <span class="at">fill =</span> better_big_change),</span>
<span id="cb188-22"><a href="science-polish.html#cb188-22" aria-hidden="true" tabindex="-1"></a>                   <span class="at">color =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span></span>
<span id="cb188-23"><a href="science-polish.html#cb188-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add notes about what the outliers mean in the bottom left and top right</span></span>
<span id="cb188-24"><a href="science-polish.html#cb188-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># corners. These are italicized and light grey. The text in the bottom corner</span></span>
<span id="cb188-25"><a href="science-polish.html#cb188-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># is justified to the right with hjust = 1, and the text in the top corner is</span></span>
<span id="cb188-26"><a href="science-polish.html#cb188-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># justified to the left with hjust = 0</span></span>
<span id="cb188-27"><a href="science-polish.html#cb188-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">&quot;text&quot;</span>, <span class="at">x =</span> <span class="dv">170</span>, <span class="at">y =</span> <span class="dv">6</span>, <span class="at">label =</span> <span class="st">&quot;Outliers improving&quot;</span>, </span>
<span id="cb188-28"><a href="science-polish.html#cb188-28" aria-hidden="true" tabindex="-1"></a>           <span class="at">fontface =</span> <span class="st">&quot;italic&quot;</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">&quot;grey50&quot;</span>) <span class="sc">+</span></span>
<span id="cb188-29"><a href="science-polish.html#cb188-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">&quot;text&quot;</span>, <span class="at">x =</span> <span class="dv">2</span>, <span class="at">y =</span> <span class="dv">170</span>, <span class="at">label =</span> <span class="st">&quot;Outliers worsening&quot;</span>, </span>
<span id="cb188-30"><a href="science-polish.html#cb188-30" aria-hidden="true" tabindex="-1"></a>           <span class="at">fontface =</span> <span class="st">&quot;italic&quot;</span>, <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">&quot;grey50&quot;</span>) <span class="sc">+</span></span>
<span id="cb188-31"><a href="science-polish.html#cb188-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add mostly transparent rectangles in the bottom right and top left corners</span></span>
<span id="cb188-32"><a href="science-polish.html#cb188-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">&quot;rect&quot;</span>, <span class="at">xmin =</span> <span class="dv">0</span>, <span class="at">xmax =</span> <span class="dv">25</span>, <span class="at">ymin =</span> <span class="dv">0</span>, <span class="at">ymax =</span> <span class="dv">25</span>, </span>
<span id="cb188-33"><a href="science-polish.html#cb188-33" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> <span class="st">&quot;#2ECC40&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.25</span>) <span class="sc">+</span></span>
<span id="cb188-34"><a href="science-polish.html#cb188-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">&quot;rect&quot;</span>, <span class="at">xmin =</span> <span class="dv">150</span>, <span class="at">xmax =</span> <span class="dv">178</span>, <span class="at">ymin =</span> <span class="dv">150</span>, <span class="at">ymax =</span> <span class="dv">178</span>, </span>
<span id="cb188-35"><a href="science-polish.html#cb188-35" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> <span class="st">&quot;#FF851B&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.25</span>) <span class="sc">+</span></span>
<span id="cb188-36"><a href="science-polish.html#cb188-36" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add text to define what the rectangles abovee actually mean. The \n in</span></span>
<span id="cb188-37"><a href="science-polish.html#cb188-37" aria-hidden="true" tabindex="-1"></a>  <span class="co"># &quot;highest\nemitters&quot; will put a line break in the label</span></span>
<span id="cb188-38"><a href="science-polish.html#cb188-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">&quot;text&quot;</span>, <span class="at">x =</span> <span class="dv">40</span>, <span class="at">y =</span> <span class="dv">6</span>, <span class="at">label =</span> <span class="st">&quot;Lowest emitters&quot;</span>, </span>
<span id="cb188-39"><a href="science-polish.html#cb188-39" aria-hidden="true" tabindex="-1"></a>           <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">&quot;#2ECC40&quot;</span>) <span class="sc">+</span></span>
<span id="cb188-40"><a href="science-polish.html#cb188-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">&quot;text&quot;</span>, <span class="at">x =</span> <span class="fl">162.5</span>, <span class="at">y =</span> <span class="dv">135</span>, <span class="at">label =</span> <span class="st">&quot;Highest</span><span class="sc">\n</span><span class="st">emitters&quot;</span>, </span>
<span id="cb188-41"><a href="science-polish.html#cb188-41" aria-hidden="true" tabindex="-1"></a>           <span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">vjust =</span> <span class="dv">1</span>, <span class="at">lineheight =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">&quot;#FF851B&quot;</span>) <span class="sc">+</span></span>
<span id="cb188-42"><a href="science-polish.html#cb188-42" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add arrows between the text and the rectangles. These use the segment geom,</span></span>
<span id="cb188-43"><a href="science-polish.html#cb188-43" aria-hidden="true" tabindex="-1"></a>  <span class="co"># and the arrows are added with the arrow() function, which lets us define the</span></span>
<span id="cb188-44"><a href="science-polish.html#cb188-44" aria-hidden="true" tabindex="-1"></a>  <span class="co"># angle of the arrowhead and the length of the arrowhead pieces. Here we use</span></span>
<span id="cb188-45"><a href="science-polish.html#cb188-45" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 0.5 lines, which is a unit of measurement that ggplot uses internally (think</span></span>
<span id="cb188-46"><a href="science-polish.html#cb188-46" aria-hidden="true" tabindex="-1"></a>  <span class="co"># of how many lines of text fit in the plot). We could also use unit(1, &quot;cm&quot;)</span></span>
<span id="cb188-47"><a href="science-polish.html#cb188-47" aria-hidden="true" tabindex="-1"></a>  <span class="co"># or unit(0.25, &quot;in&quot;) or anything else</span></span>
<span id="cb188-48"><a href="science-polish.html#cb188-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">&quot;segment&quot;</span>, <span class="at">x =</span> <span class="dv">38</span>, <span class="at">xend =</span> <span class="dv">20</span>, <span class="at">y =</span> <span class="dv">6</span>, <span class="at">yend =</span> <span class="dv">6</span>, <span class="at">color =</span> <span class="st">&quot;#2ECC40&quot;</span>, </span>
<span id="cb188-49"><a href="science-polish.html#cb188-49" aria-hidden="true" tabindex="-1"></a>           <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">angle =</span> <span class="dv">15</span>, <span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.5</span>, <span class="st">&quot;lines&quot;</span>))) <span class="sc">+</span></span>
<span id="cb188-50"><a href="science-polish.html#cb188-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">&quot;segment&quot;</span>, <span class="at">x =</span> <span class="fl">162.5</span>, <span class="at">xend =</span> <span class="fl">162.5</span>, <span class="at">y =</span> <span class="dv">140</span>, <span class="at">yend =</span> <span class="dv">155</span>, <span class="at">color =</span> <span class="st">&quot;#FF851B&quot;</span>, </span>
<span id="cb188-51"><a href="science-polish.html#cb188-51" aria-hidden="true" tabindex="-1"></a>           <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">angle =</span> <span class="dv">15</span>, <span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.5</span>, <span class="st">&quot;lines&quot;</span>))) <span class="sc">+</span></span>
<span id="cb188-52"><a href="science-polish.html#cb188-52" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Use three different colors for the points</span></span>
<span id="cb188-53"><a href="science-polish.html#cb188-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;grey50&quot;</span>, <span class="st">&quot;#0074D9&quot;</span>, <span class="st">&quot;#FF4136&quot;</span>)) <span class="sc">+</span></span>
<span id="cb188-54"><a href="science-polish.html#cb188-54" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Use two different colors for the filled labels. There are no grey labels, so</span></span>
<span id="cb188-55"><a href="science-polish.html#cb188-55" aria-hidden="true" tabindex="-1"></a>  <span class="co"># we don&#39;t have to specify that color</span></span>
<span id="cb188-56"><a href="science-polish.html#cb188-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;#0074D9&quot;</span>, <span class="st">&quot;#FF4136&quot;</span>)) <span class="sc">+</span></span>
<span id="cb188-57"><a href="science-polish.html#cb188-57" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make the x and y axes expand all the way to the edges of the plot area and</span></span>
<span id="cb188-58"><a href="science-polish.html#cb188-58" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add breaks every 25 units from 0 to 175</span></span>
<span id="cb188-59"><a href="science-polish.html#cb188-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">175</span>, <span class="dv">25</span>)) <span class="sc">+</span></span>
<span id="cb188-60"><a href="science-polish.html#cb188-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">175</span>, <span class="dv">25</span>)) <span class="sc">+</span></span>
<span id="cb188-61"><a href="science-polish.html#cb188-61" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add labels! There are a couple fancy things here.</span></span>
<span id="cb188-62"><a href="science-polish.html#cb188-62" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 1. In the title we wrap the 2 of CO2 in the HTML &lt;sub&gt;&lt;/sub&gt; tag so that the</span></span>
<span id="cb188-63"><a href="science-polish.html#cb188-63" aria-hidden="true" tabindex="-1"></a>  <span class="co">#    number gets subscripted. The only way this will actually get parsed as </span></span>
<span id="cb188-64"><a href="science-polish.html#cb188-64" aria-hidden="true" tabindex="-1"></a>  <span class="co">#    HTML is if we tell the plot.title to use element_markdown() in the </span></span>
<span id="cb188-65"><a href="science-polish.html#cb188-65" aria-hidden="true" tabindex="-1"></a>  <span class="co">#    theme() function, and element_markdown() comes from the ggtext package.</span></span>
<span id="cb188-66"><a href="science-polish.html#cb188-66" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 2. In the subtitle we bold the two words **improved** and **worsened** using</span></span>
<span id="cb188-67"><a href="science-polish.html#cb188-67" aria-hidden="true" tabindex="-1"></a>  <span class="co">#    Markdown asterisks. We also wrap these words with HTML span tags with </span></span>
<span id="cb188-68"><a href="science-polish.html#cb188-68" aria-hidden="true" tabindex="-1"></a>  <span class="co">#    inline CSS to specify the color of the text. Like the title, this will </span></span>
<span id="cb188-69"><a href="science-polish.html#cb188-69" aria-hidden="true" tabindex="-1"></a>  <span class="co">#    only be processed and parsed as HTML and Markdown if we tell the p</span></span>
<span id="cb188-70"><a href="science-polish.html#cb188-70" aria-hidden="true" tabindex="-1"></a>  <span class="co">#    lot.subtitle to use element_markdown() in the theme() function.</span></span>
<span id="cb188-71"><a href="science-polish.html#cb188-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Rank in 1995&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Rank in 2014&quot;</span>,</span>
<span id="cb188-72"><a href="science-polish.html#cb188-72" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&quot;Changes in CO&lt;sub&gt;2&lt;/sub&gt; emission rankings between 1995 and 2014&quot;</span>,</span>
<span id="cb188-73"><a href="science-polish.html#cb188-73" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Countries that &lt;span style=&#39;color: #0074D9&#39;&gt;**improved**&lt;/span&gt; or &lt;span style=&#39;color: #FF4136&#39;&gt;**worsened**&lt;/span&gt; more than 25 positions in the rankings highlighted&quot;</span>,</span>
<span id="cb188-74"><a href="science-polish.html#cb188-74" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;Source: The World Bank.</span><span class="sc">\n</span><span class="st">Countries with populations of less than 200,000 excluded.&quot;</span>) <span class="sc">+</span></span>
<span id="cb188-75"><a href="science-polish.html#cb188-75" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Turn off the legends for color and fill, since the subtitle includes that</span></span>
<span id="cb188-76"><a href="science-polish.html#cb188-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="cn">FALSE</span>, <span class="at">fill =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb188-77"><a href="science-polish.html#cb188-77" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Use theme_bw() with IBM Plex Sans</span></span>
<span id="cb188-78"><a href="science-polish.html#cb188-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_family =</span> <span class="st">&quot;IBM Plex Sans&quot;</span>) <span class="sc">+</span></span>
<span id="cb188-79"><a href="science-polish.html#cb188-79" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Tell the title and subtitle to be treated as Markdown/HTML, make the title</span></span>
<span id="cb188-80"><a href="science-polish.html#cb188-80" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 1.6x the size of the base font, and make the subtitle 1.3x the size of the</span></span>
<span id="cb188-81"><a href="science-polish.html#cb188-81" aria-hidden="true" tabindex="-1"></a>  <span class="co"># base font. Also add a little larger margin on the right of the plot so that</span></span>
<span id="cb188-82"><a href="science-polish.html#cb188-82" aria-hidden="true" tabindex="-1"></a>  <span class="co"># the 175 doesn&#39;t get cut off.</span></span>
<span id="cb188-83"><a href="science-polish.html#cb188-83" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_markdown</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.6</span>)),</span>
<span id="cb188-84"><a href="science-polish.html#cb188-84" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_markdown</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.3</span>)),</span>
<span id="cb188-85"><a href="science-polish.html#cb188-85" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.margin =</span> <span class="fu">unit</span>(<span class="fu">c</span>(<span class="fl">0.5</span>, <span class="dv">1</span>, <span class="fl">0.5</span>, <span class="fl">0.5</span>), <span class="at">units =</span> <span class="st">&quot;lines&quot;</span>))</span></code></pre></div>
<p><img src="03-scientific-results-polish_files/figure-html/build-pretty-plot-1.png" width="80%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="acknowledgments-1" class="section level2 unnumbered">
<h2>Acknowledgments</h2>
<ul>
<li>Coding examples from <a href="https://datavizm20.classes.andrewheiss.com/">Andrew Heiss</a></li>
</ul>
</div>
<div id="session-info-2" class="section level2 unnumbered">
<h2>Session info</h2>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="science-polish.html#cb189-1" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">session_info</span>()</span>
<span id="cb189-2"><a href="science-polish.html#cb189-2" aria-hidden="true" tabindex="-1"></a><span class="do">## ─ Session info ───────────────────────────────────────────────────────────────</span></span>
<span id="cb189-3"><a href="science-polish.html#cb189-3" aria-hidden="true" tabindex="-1"></a><span class="do">##  setting  value</span></span>
<span id="cb189-4"><a href="science-polish.html#cb189-4" aria-hidden="true" tabindex="-1"></a><span class="do">##  version  R version 4.1.2 (2021-11-01)</span></span>
<span id="cb189-5"><a href="science-polish.html#cb189-5" aria-hidden="true" tabindex="-1"></a><span class="do">##  os       macOS Monterey 12.2.1</span></span>
<span id="cb189-6"><a href="science-polish.html#cb189-6" aria-hidden="true" tabindex="-1"></a><span class="do">##  system   aarch64, darwin20</span></span>
<span id="cb189-7"><a href="science-polish.html#cb189-7" aria-hidden="true" tabindex="-1"></a><span class="do">##  ui       X11</span></span>
<span id="cb189-8"><a href="science-polish.html#cb189-8" aria-hidden="true" tabindex="-1"></a><span class="do">##  language (EN)</span></span>
<span id="cb189-9"><a href="science-polish.html#cb189-9" aria-hidden="true" tabindex="-1"></a><span class="do">##  collate  en_US.UTF-8</span></span>
<span id="cb189-10"><a href="science-polish.html#cb189-10" aria-hidden="true" tabindex="-1"></a><span class="do">##  ctype    en_US.UTF-8</span></span>
<span id="cb189-11"><a href="science-polish.html#cb189-11" aria-hidden="true" tabindex="-1"></a><span class="do">##  tz       America/Chicago</span></span>
<span id="cb189-12"><a href="science-polish.html#cb189-12" aria-hidden="true" tabindex="-1"></a><span class="do">##  date     2022-03-04</span></span>
<span id="cb189-13"><a href="science-polish.html#cb189-13" aria-hidden="true" tabindex="-1"></a><span class="do">##  pandoc   2.17.1.1 @ /Applications/RStudio.app/Contents/MacOS/quarto/bin/ (via rmarkdown)</span></span>
<span id="cb189-14"><a href="science-polish.html#cb189-14" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb189-15"><a href="science-polish.html#cb189-15" aria-hidden="true" tabindex="-1"></a><span class="do">## ─ Packages ───────────────────────────────────────────────────────────────────</span></span>
<span id="cb189-16"><a href="science-polish.html#cb189-16" aria-hidden="true" tabindex="-1"></a><span class="do">##  package      * version    date (UTC) lib source</span></span>
<span id="cb189-17"><a href="science-polish.html#cb189-17" aria-hidden="true" tabindex="-1"></a><span class="do">##  assertthat     0.2.1      2019-03-21 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-18"><a href="science-polish.html#cb189-18" aria-hidden="true" tabindex="-1"></a><span class="do">##  backports      1.4.1      2021-12-13 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-19"><a href="science-polish.html#cb189-19" aria-hidden="true" tabindex="-1"></a><span class="do">##  bit            4.0.4      2020-08-04 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-20"><a href="science-polish.html#cb189-20" aria-hidden="true" tabindex="-1"></a><span class="do">##  bit64          4.0.5      2020-08-30 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-21"><a href="science-polish.html#cb189-21" aria-hidden="true" tabindex="-1"></a><span class="do">##  bookdown       0.24       2021-09-02 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-22"><a href="science-polish.html#cb189-22" aria-hidden="true" tabindex="-1"></a><span class="do">##  brio           1.1.3      2021-11-30 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-23"><a href="science-polish.html#cb189-23" aria-hidden="true" tabindex="-1"></a><span class="do">##  broom        * 0.7.12     2022-01-28 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-24"><a href="science-polish.html#cb189-24" aria-hidden="true" tabindex="-1"></a><span class="do">##  bslib          0.3.1      2021-10-06 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-25"><a href="science-polish.html#cb189-25" aria-hidden="true" tabindex="-1"></a><span class="do">##  cachem         1.0.6      2021-08-19 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-26"><a href="science-polish.html#cb189-26" aria-hidden="true" tabindex="-1"></a><span class="do">##  callr          3.7.0      2021-04-20 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-27"><a href="science-polish.html#cb189-27" aria-hidden="true" tabindex="-1"></a><span class="do">##  cellranger     1.1.0      2016-07-27 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-28"><a href="science-polish.html#cb189-28" aria-hidden="true" tabindex="-1"></a><span class="do">##  cli            3.2.0      2022-02-14 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-29"><a href="science-polish.html#cb189-29" aria-hidden="true" tabindex="-1"></a><span class="do">##  codetools      0.2-18     2020-11-04 [1] CRAN (R 4.1.2)</span></span>
<span id="cb189-30"><a href="science-polish.html#cb189-30" aria-hidden="true" tabindex="-1"></a><span class="do">##  colorspace   * 2.0-3      2022-02-21 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-31"><a href="science-polish.html#cb189-31" aria-hidden="true" tabindex="-1"></a><span class="do">##  crayon         1.5.0      2022-02-14 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-32"><a href="science-polish.html#cb189-32" aria-hidden="true" tabindex="-1"></a><span class="do">##  curl           4.3.2      2021-06-23 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-33"><a href="science-polish.html#cb189-33" aria-hidden="true" tabindex="-1"></a><span class="do">##  DBI            1.1.2      2021-12-20 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-34"><a href="science-polish.html#cb189-34" aria-hidden="true" tabindex="-1"></a><span class="do">##  dbplyr         2.1.1      2021-04-06 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-35"><a href="science-polish.html#cb189-35" aria-hidden="true" tabindex="-1"></a><span class="do">##  desc           1.4.0      2021-09-28 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-36"><a href="science-polish.html#cb189-36" aria-hidden="true" tabindex="-1"></a><span class="do">##  devtools     * 2.4.3      2021-11-30 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-37"><a href="science-polish.html#cb189-37" aria-hidden="true" tabindex="-1"></a><span class="do">##  dichromat    * 2.0-0      2013-01-24 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-38"><a href="science-polish.html#cb189-38" aria-hidden="true" tabindex="-1"></a><span class="do">##  digest         0.6.29     2021-12-01 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-39"><a href="science-polish.html#cb189-39" aria-hidden="true" tabindex="-1"></a><span class="do">##  dplyr        * 1.0.8      2022-02-08 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-40"><a href="science-polish.html#cb189-40" aria-hidden="true" tabindex="-1"></a><span class="do">##  ellipsis       0.3.2      2021-04-29 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-41"><a href="science-polish.html#cb189-41" aria-hidden="true" tabindex="-1"></a><span class="do">##  emo            0.0.0.9000 2022-01-06 [1] Github (hadley/emo@3f03b11)</span></span>
<span id="cb189-42"><a href="science-polish.html#cb189-42" aria-hidden="true" tabindex="-1"></a><span class="do">##  evaluate       0.15       2022-02-18 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-43"><a href="science-polish.html#cb189-43" aria-hidden="true" tabindex="-1"></a><span class="do">##  fansi          1.0.2      2022-01-14 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-44"><a href="science-polish.html#cb189-44" aria-hidden="true" tabindex="-1"></a><span class="do">##  farver         2.1.0      2021-02-28 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-45"><a href="science-polish.html#cb189-45" aria-hidden="true" tabindex="-1"></a><span class="do">##  fastmap        1.1.0      2021-01-25 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-46"><a href="science-polish.html#cb189-46" aria-hidden="true" tabindex="-1"></a><span class="do">##  forcats      * 0.5.1      2021-01-27 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-47"><a href="science-polish.html#cb189-47" aria-hidden="true" tabindex="-1"></a><span class="do">##  fs             1.5.2      2021-12-08 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-48"><a href="science-polish.html#cb189-48" aria-hidden="true" tabindex="-1"></a><span class="do">##  gapminder    * 0.3.0      2017-10-31 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-49"><a href="science-polish.html#cb189-49" aria-hidden="true" tabindex="-1"></a><span class="do">##  generics       0.1.2      2022-01-31 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-50"><a href="science-polish.html#cb189-50" aria-hidden="true" tabindex="-1"></a><span class="do">##  gghalves     * 0.1.1      2020-11-08 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-51"><a href="science-polish.html#cb189-51" aria-hidden="true" tabindex="-1"></a><span class="do">##  ggplot2      * 3.3.5      2021-06-25 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-52"><a href="science-polish.html#cb189-52" aria-hidden="true" tabindex="-1"></a><span class="do">##  ggrepel      * 0.9.1      2021-01-15 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-53"><a href="science-polish.html#cb189-53" aria-hidden="true" tabindex="-1"></a><span class="do">##  ggridges     * 0.5.3      2021-01-08 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-54"><a href="science-polish.html#cb189-54" aria-hidden="true" tabindex="-1"></a><span class="do">##  ggtext       * 0.1.1      2020-12-17 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-55"><a href="science-polish.html#cb189-55" aria-hidden="true" tabindex="-1"></a><span class="do">##  ggthemes     * 4.2.4      2021-01-20 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-56"><a href="science-polish.html#cb189-56" aria-hidden="true" tabindex="-1"></a><span class="do">##  glue           1.6.1      2022-01-22 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-57"><a href="science-polish.html#cb189-57" aria-hidden="true" tabindex="-1"></a><span class="do">##  gridtext       0.1.4      2020-12-10 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-58"><a href="science-polish.html#cb189-58" aria-hidden="true" tabindex="-1"></a><span class="do">##  gtable         0.3.0      2019-03-25 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-59"><a href="science-polish.html#cb189-59" aria-hidden="true" tabindex="-1"></a><span class="do">##  haven          2.4.3      2021-08-04 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-60"><a href="science-polish.html#cb189-60" aria-hidden="true" tabindex="-1"></a><span class="do">##  here         * 1.0.1      2020-12-13 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-61"><a href="science-polish.html#cb189-61" aria-hidden="true" tabindex="-1"></a><span class="do">##  highr          0.9        2021-04-16 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-62"><a href="science-polish.html#cb189-62" aria-hidden="true" tabindex="-1"></a><span class="do">##  hms            1.1.1      2021-09-26 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-63"><a href="science-polish.html#cb189-63" aria-hidden="true" tabindex="-1"></a><span class="do">##  htmltools      0.5.2      2021-08-25 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-64"><a href="science-polish.html#cb189-64" aria-hidden="true" tabindex="-1"></a><span class="do">##  httr           1.4.2      2020-07-20 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-65"><a href="science-polish.html#cb189-65" aria-hidden="true" tabindex="-1"></a><span class="do">##  jquerylib      0.1.4      2021-04-26 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-66"><a href="science-polish.html#cb189-66" aria-hidden="true" tabindex="-1"></a><span class="do">##  jsonlite       1.8.0      2022-02-22 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-67"><a href="science-polish.html#cb189-67" aria-hidden="true" tabindex="-1"></a><span class="do">##  knitr        * 1.37       2021-12-16 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-68"><a href="science-polish.html#cb189-68" aria-hidden="true" tabindex="-1"></a><span class="do">##  labeling       0.4.2      2020-10-20 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-69"><a href="science-polish.html#cb189-69" aria-hidden="true" tabindex="-1"></a><span class="do">##  lifecycle      1.0.1      2021-09-24 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-70"><a href="science-polish.html#cb189-70" aria-hidden="true" tabindex="-1"></a><span class="do">##  lubridate    * 1.8.0      2021-10-07 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-71"><a href="science-polish.html#cb189-71" aria-hidden="true" tabindex="-1"></a><span class="do">##  magrittr       2.0.2      2022-01-26 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-72"><a href="science-polish.html#cb189-72" aria-hidden="true" tabindex="-1"></a><span class="do">##  markdown       1.1        2019-08-07 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-73"><a href="science-polish.html#cb189-73" aria-hidden="true" tabindex="-1"></a><span class="do">##  memoise        2.0.1      2021-11-26 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-74"><a href="science-polish.html#cb189-74" aria-hidden="true" tabindex="-1"></a><span class="do">##  modelr         0.1.8      2020-05-19 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-75"><a href="science-polish.html#cb189-75" aria-hidden="true" tabindex="-1"></a><span class="do">##  munsell        0.5.0      2018-06-12 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-76"><a href="science-polish.html#cb189-76" aria-hidden="true" tabindex="-1"></a><span class="do">##  patchwork    * 1.1.1      2020-12-17 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-77"><a href="science-polish.html#cb189-77" aria-hidden="true" tabindex="-1"></a><span class="do">##  pillar         1.7.0      2022-02-01 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-78"><a href="science-polish.html#cb189-78" aria-hidden="true" tabindex="-1"></a><span class="do">##  pkgbuild       1.3.1      2021-12-20 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-79"><a href="science-polish.html#cb189-79" aria-hidden="true" tabindex="-1"></a><span class="do">##  pkgconfig      2.0.3      2019-09-22 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-80"><a href="science-polish.html#cb189-80" aria-hidden="true" tabindex="-1"></a><span class="do">##  pkgload        1.2.4      2021-11-30 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-81"><a href="science-polish.html#cb189-81" aria-hidden="true" tabindex="-1"></a><span class="do">##  plyr           1.8.6      2020-03-03 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-82"><a href="science-polish.html#cb189-82" aria-hidden="true" tabindex="-1"></a><span class="do">##  prettyunits    1.1.1      2020-01-24 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-83"><a href="science-polish.html#cb189-83" aria-hidden="true" tabindex="-1"></a><span class="do">##  processx       3.5.2      2021-04-30 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-84"><a href="science-polish.html#cb189-84" aria-hidden="true" tabindex="-1"></a><span class="do">##  ps             1.6.0      2021-02-28 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-85"><a href="science-polish.html#cb189-85" aria-hidden="true" tabindex="-1"></a><span class="do">##  purrr        * 0.3.4      2020-04-17 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-86"><a href="science-polish.html#cb189-86" aria-hidden="true" tabindex="-1"></a><span class="do">##  R6             2.5.1      2021-08-19 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-87"><a href="science-polish.html#cb189-87" aria-hidden="true" tabindex="-1"></a><span class="do">##  RColorBrewer * 1.1-2      2014-12-07 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-88"><a href="science-polish.html#cb189-88" aria-hidden="true" tabindex="-1"></a><span class="do">##  Rcpp           1.0.8      2022-01-13 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-89"><a href="science-polish.html#cb189-89" aria-hidden="true" tabindex="-1"></a><span class="do">##  readr        * 2.1.2      2022-01-30 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-90"><a href="science-polish.html#cb189-90" aria-hidden="true" tabindex="-1"></a><span class="do">##  readxl         1.3.1      2019-03-13 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-91"><a href="science-polish.html#cb189-91" aria-hidden="true" tabindex="-1"></a><span class="do">##  remotes        2.4.2      2021-11-30 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-92"><a href="science-polish.html#cb189-92" aria-hidden="true" tabindex="-1"></a><span class="do">##  reprex         2.0.1      2021-08-05 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-93"><a href="science-polish.html#cb189-93" aria-hidden="true" tabindex="-1"></a><span class="do">##  RJSONIO        1.3-1.6    2021-09-16 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-94"><a href="science-polish.html#cb189-94" aria-hidden="true" tabindex="-1"></a><span class="do">##  rlang          1.0.1      2022-02-03 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-95"><a href="science-polish.html#cb189-95" aria-hidden="true" tabindex="-1"></a><span class="do">##  rmarkdown      2.11       2021-09-14 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-96"><a href="science-polish.html#cb189-96" aria-hidden="true" tabindex="-1"></a><span class="do">##  rprojroot      2.0.2      2020-11-15 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-97"><a href="science-polish.html#cb189-97" aria-hidden="true" tabindex="-1"></a><span class="do">##  rstudioapi     0.13       2020-11-12 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-98"><a href="science-polish.html#cb189-98" aria-hidden="true" tabindex="-1"></a><span class="do">##  rvest          1.0.2      2021-10-16 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-99"><a href="science-polish.html#cb189-99" aria-hidden="true" tabindex="-1"></a><span class="do">##  sass           0.4.0      2021-05-12 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-100"><a href="science-polish.html#cb189-100" aria-hidden="true" tabindex="-1"></a><span class="do">##  scales       * 1.1.1      2020-05-11 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-101"><a href="science-polish.html#cb189-101" aria-hidden="true" tabindex="-1"></a><span class="do">##  sessioninfo    1.2.2      2021-12-06 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-102"><a href="science-polish.html#cb189-102" aria-hidden="true" tabindex="-1"></a><span class="do">##  socviz       * 1.2        2020-06-10 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-103"><a href="science-polish.html#cb189-103" aria-hidden="true" tabindex="-1"></a><span class="do">##  stringi        1.7.6      2021-11-29 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-104"><a href="science-polish.html#cb189-104" aria-hidden="true" tabindex="-1"></a><span class="do">##  stringr      * 1.4.0      2019-02-10 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-105"><a href="science-polish.html#cb189-105" aria-hidden="true" tabindex="-1"></a><span class="do">##  testthat       3.1.2      2022-01-20 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-106"><a href="science-polish.html#cb189-106" aria-hidden="true" tabindex="-1"></a><span class="do">##  tibble       * 3.1.6      2021-11-07 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-107"><a href="science-polish.html#cb189-107" aria-hidden="true" tabindex="-1"></a><span class="do">##  tidyr        * 1.2.0      2022-02-01 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-108"><a href="science-polish.html#cb189-108" aria-hidden="true" tabindex="-1"></a><span class="do">##  tidyselect     1.1.2      2022-02-21 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-109"><a href="science-polish.html#cb189-109" aria-hidden="true" tabindex="-1"></a><span class="do">##  tidyverse    * 1.3.1      2021-04-15 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-110"><a href="science-polish.html#cb189-110" aria-hidden="true" tabindex="-1"></a><span class="do">##  tzdb           0.2.0      2021-10-27 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-111"><a href="science-polish.html#cb189-111" aria-hidden="true" tabindex="-1"></a><span class="do">##  usethis      * 2.1.5      2021-12-09 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-112"><a href="science-polish.html#cb189-112" aria-hidden="true" tabindex="-1"></a><span class="do">##  utf8           1.2.2      2021-07-24 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-113"><a href="science-polish.html#cb189-113" aria-hidden="true" tabindex="-1"></a><span class="do">##  vctrs          0.3.8      2021-04-29 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-114"><a href="science-polish.html#cb189-114" aria-hidden="true" tabindex="-1"></a><span class="do">##  viridisLite    0.4.0      2021-04-13 [1] CRAN (R 4.1.0)</span></span>
<span id="cb189-115"><a href="science-polish.html#cb189-115" aria-hidden="true" tabindex="-1"></a><span class="do">##  vroom          1.5.7      2021-11-30 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-116"><a href="science-polish.html#cb189-116" aria-hidden="true" tabindex="-1"></a><span class="do">##  WDI          * 2.7.6      2022-02-25 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-117"><a href="science-polish.html#cb189-117" aria-hidden="true" tabindex="-1"></a><span class="do">##  withr          2.4.3      2021-11-30 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-118"><a href="science-polish.html#cb189-118" aria-hidden="true" tabindex="-1"></a><span class="do">##  xfun           0.29       2021-12-14 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-119"><a href="science-polish.html#cb189-119" aria-hidden="true" tabindex="-1"></a><span class="do">##  xml2           1.3.3      2021-11-30 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-120"><a href="science-polish.html#cb189-120" aria-hidden="true" tabindex="-1"></a><span class="do">##  yaml           2.3.5      2022-02-21 [1] CRAN (R 4.1.1)</span></span>
<span id="cb189-121"><a href="science-polish.html#cb189-121" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb189-122"><a href="science-polish.html#cb189-122" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] /Library/Frameworks/R.framework/Versions/4.1-arm64/Resources/library</span></span>
<span id="cb189-123"><a href="science-polish.html#cb189-123" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb189-124"><a href="science-polish.html#cb189-124" aria-hidden="true" tabindex="-1"></a><span class="do">## ──────────────────────────────────────────────────────────────────────────────</span></span></code></pre></div>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-healy2018data" class="csl-entry">
Healy, Kieran. 2018. <em>Data Visualization: A Practical Introduction</em>. Princeton University Press.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="show-the-numbers.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="geoviz.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
},
"theme": "readable",
"highlight": "pygment"
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
